(function(t){var a=t("#search-form-wrap"),e=false,n=200;var o=function(){e=true};var r=function(t){setTimeout(function(){e=false;t&&t()},n)};t("#nav-search-btn").on("click",function(){if(e)return;o();a.addClass("on");r(function(){t(".search-form-input").focus()})});t(".search-form-input").on("blur",function(){o();a.removeClass("on");r()});t("body").on("click",function(){t(".article-share-box.on").removeClass("on")}).on("click",".article-share-link",function(a){a.stopPropagation();var e=t(this),n=e.attr("data-url"),o=encodeURIComponent(n),r="article-share-box-"+e.attr("data-id"),i=e.offset();if(t("#"+r).length){var s=t("#"+r);if(s.hasClass("on")){s.removeClass("on");return}}else{var c=['<div id="'+r+'" class="article-share-box">','<input class="article-share-input" value="'+n+'">','<div class="article-share-links">','<a href="https://twitter.com/intent/tweet?url='+o+'" class="article-share-twitter" target="_blank" title="Twitter"></a>','<a href="https://www.facebook.com/sharer.php?u='+o+'" class="article-share-facebook" target="_blank" title="Facebook"></a>','<a href="http://pinterest.com/pin/create/button/?url='+o+'" class="article-share-pinterest" target="_blank" title="Pinterest"></a>','<a href="https://plus.google.com/share?url='+o+'" class="article-share-google" target="_blank" title="Google+"></a>',"</div>","</div>"].join("");var s=t(c);t("body").append(s)}t(".article-share-box.on").hide();s.css({top:i.top+25,left:i.left}).addClass("on")}).on("click",".article-share-box",function(t){t.stopPropagation()}).on("click",".article-share-box-input",function(){t(this).select()}).on("click",".article-share-box-link",function(t){t.preventDefault();t.stopPropagation();window.open(this.href,"article-share-box-window-"+Date.now(),"width=500,height=450")});t(".article-entry").each(function(a){t(this).find(".fancybox").each(function(){t(this).attr("rel","article"+a)})});if(t.fancybox){t(".fancybox").fancybox()}var i=t("#container"),s=false,c=200;var l=function(){s=true};var f=function(){setTimeout(function(){s=false},c)};t("#main-nav-toggle").on("click",function(){if(s)return;l();i.toggleClass("mobile-nav-on");f()});t("#wrap").on("click",function(){if(s||!i.hasClass("mobile-nav-on"))return;i.removeClass("mobile-nav-on")})})(jQuery);