<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <title>Drupal 7 - Настройка ЧПУ | Atoumus Blog</title> <link rel="alternate" href="http://atoumus.github.io/drupal-7-setting-up-friendly-url.html" hreflang="ru" /> <link rel="alternate" href="http://atoumus.github.io/en/" hreflang="en" /> <link rel="alternate" type="application/atom+xml" title="Atoumus Blog" href="/atom.xml" /> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" type="text/css" href="/css/libs/flaticon/flaticon.css"> <link rel="stylesheet" type="text/css" href="/css/libs/prism.css"> <link rel="stylesheet" type="text/css" href="/css/libs/prism-fix.css"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css" /> <link rel="stylesheet" type="text/css" href="/css/common.css"> </head> <body> <a href="#top" class="elevator"><span class="flaticon-upwards-arrow"></span></a> <a name="top"></a> <div class="main"> <div class="header"> <a href="/" class="logo" title="Atoumus Blog" ><img src="/images/logo.png">Atoumus Blog</a> <form class="search" action="//google.com/search" target="_blank" method="get" accept-charset="UTF-8"> <input type="search" name="q" class="search-input"> <button type="submit">Поиск</button> <input type="hidden" name="sitesearch" value="http://atoumus.github.io"> </form> <div class="social"> <a href="#" class="search-toggle flaticon-magnifier" title="Поиск"></a> <a href="/atom.xml" target="_blank" class="flaticon-rss-feed-button" title="Atom лента"></a> <a href="https://twitter.com/atoumus/" target="_blank" class="flaticon-twitter-logo-silhouette" title="Twitter"></a> <a href="https://plus.google.com/u/0/116624784918762784912" target="_blank" class="flaticon-google-plus-logo-button" title="G+"></a> </div> </div> <div class="clear-both"></div> <div class="menu"> <div class="tags"> <a href='/'>Главная</a><a href='/tag/Yii/'>Yii</a><a href='/tag/PHP/'>PHP</a><a href='/tag/Books/'>Книги</a><a href='/tag/Zend Framework/'>Zend Framework</a><a href='/tag/Drupal/' class='selected'>Drupal</a><a href='/tag/XDebug/'>XDebug</a><a href='/tag/C Sharp/'>C#</a><a href='/tag/Sublime Text/'>Sublime Text</a><a href='/tag/Others/'>Прочее</a> </div> <div class="lang-switcher"> <span>ru</span><a href='/en/'>en</a> </div> </div> <div class="clear-both"></div> <div class="contents"> <div class="article"> <h1>Drupal 7 - Настройка ЧПУ</h1> <div class="meta"> <div> <span class="flaticon-calendar-with-spring-binder-and-date-blocks"></span> 2012-10-13 </div> <div> <span class="flaticon-commerce"></span> <a href='/tag/Drupal/'>Drupal</a> </div> <div class="comments-number"> <span class="flaticon-comment-white-oval-bubble"></span> <a href="#comments" data-disqus-url="http://atoumus.github.io/drupal-7-setting-up-friendly-url.html"></a> </div> </div> <div class="clear-both"></div> <div class="text"><p style="text-align: center;"><img src="/images/ru/articles/2012-10-13-drupal-7-setting-up-friendly-url/1.png" alt="Drupal 7 - Настройка ЧПУ" /></p> <p>В предыдущей статье &quot;<a target="_blank" href="/drupal7-make-rubrics-list.html">Drupal 7 - Создание списка рубрик</a>&quot; было рассмотрено как создать список рубрик для сайта. Эта статья является дополнением к предыдущей. В ней будет рассмотрено, как настроить ЧПУ для сайта на Drupal 7, что бы адрес страницы имел вид: <code>http://сайт/категория/статья</code></p> <p>Многое в Drupal можно сделать с помощью модулей, и ЧПУ не исключение. Именно поэтому, мы начнем с рассмотрения необходимых модулей.</p> <h2>Список необходимых модулей</h2> <p><a target="_blank" href="https://www.drupal.org/project/pathauto">Pathauto</a> - автоматически генерирует адрес страницы, на основе ее заголовка.</p> <p><a target="_blank" href="https://www.drupal.org/project/token">Token</a> - данный модуль является вспомогательным для Pathauto, далее в статье мы рассмотрим его возможности.</p> <p><a target="_blank" href="https://www.drupal.org/project/transliteration">Transliteration</a> - автоматически переводит адрес страницы с кириллицы в латиницу. Он также является вспомогательным для модуля Pathauto. Pathauto без Transliteration генерирует адрес страницы в кириллице.</p> <p><a target="_blank" href="https://www.drupal.org/project/globalredirect">Global Redirect</a> - вспомогательный SEO модуль. Дело в том, что Pathauto создает дубли страниц. Например одна и та же страница будет доступна по двум адресам:</p> <ul> <li>стандартному <code>http://сайт/node/1</code></li> <li>и ЧПУ <code>http://сайт/категория/статья</code></li> </ul> <p>Для ПС (Поисковых Систем) такое дублирование не желательно, необходимо что бы одна страница имела только один адрес, или же <a target="_blank" href="https://ru.wikipedia.org/wiki/HTTP_301#301">301 редирект</a> на основной адрес страницы. Модуль Global Redirect именно этим и занимается, создает 301 редирект с адреса <code>http://сайт/node/1</code> на адрес <code>http://сайт/категория/статья</code>.</p> <h2>Установка и включение модулей</h2> <p>Теперь необходимо скачать вышеперечисленные модули. После того как скачали, необходимо их установить. Установить их можно несколькими способами, один из них, просто разархивировать в папку вашего сайта <code>sites/all/modules</code>:</p> <p style="text-align: center;"><img src="/images/ru/articles/2012-10-13-drupal-7-setting-up-friendly-url/2.png" alt="Drupal 7 - Настройка ЧПУ" /></p> <p>Теперь нужно включить установленные модули. Для этого переходим в раздел &quot;Модули&quot;, ставим галочки на только что установленные модули, и нажимаем кнопку &quot;Сохранить настройки&quot;.</p> <p style="text-align: center;"><img src="/images/ru/articles/2012-10-13-drupal-7-setting-up-friendly-url/3.png" alt="Drupal 7 - Настройка ЧПУ" /></p> <h2>Задание шаблона адреса страниц</h2> <p>Теперь преступим к главному, зададим шаблон или формат для отображения адреса страниц. Для этого переходим в раздел Конфигурация -&gt; Синонимы URL. На открывшейся странице переходим во вкладку &quot;PATTERNS&quot; (Шаблоны). На вкладке PATTERNS, в поле &quot;Default path pattern&quot; вписываем следующее:</p> <p><code>[node:field_cat]/[node:title]</code></p> <p>После этого нажимаем на кнопку &quot;Сохранить настройки&quot;. Значения, заключенные в квадратные скобки, можно выставить и по другому, например так <code>[node:field_cat]/[node:created]/[node:title]</code> или так <code>/[node:title].html</code>, все зависит от того, какой формат адреса страниц вам необходим. Полный список заменяемых значений, которые можно указать в квадратных скобках, вы можете посмотреть кликнув на ссылку &quot;REPLACEMENT PATTERNS&quot;. Кстати, эти значения в квадратных скобках, как раз и предоставляет модуль Token.</p> <p style="text-align: center;"><img src="/images/ru/articles/2012-10-13-drupal-7-setting-up-friendly-url/4.png" alt="Drupal 7 - Настройка ЧПУ" /></p> <p>После этих действий, добавляемые страницы будут иметь кириллические ЧПУ адреса. Для того что бы включить транслитерацию, переходим в раздел Конфигурация -&gt; Синонимы URL. Далее переходим на вкладку &quot;НАСТРОЙКИ&quot;. На открывшейся странице ставим галочку на &quot;Transliterate prior to creating alias&quot; и нажимаем кнопку &quot;Сохранить настройки&quot;.</p> <p style="text-align: center;"><img src="/images/ru/articles/2012-10-13-drupal-7-setting-up-friendly-url/5.png" alt="Drupal 7 - Настройка ЧПУ" /></p> <h2>Обновление адресов существующих страниц</h2> <p>Что бы применить ЧПУ к уже существующим страницам, нужно сделать их обновление. Для этого переходим в раздел Конфигурация -&gt; Синонимы URL. На открывшейся странице переходим во вкладку &quot;BULK UPDATE&quot;, устанавливаем галочку &quot;Content paths&quot; и нажимаем на кнопку &quot;Обновить&quot;. После этого, адреса всех страниц на сайте станут ЧПУ.</p> <p style="text-align: center;"><img src="/images/ru/articles/2012-10-13-drupal-7-setting-up-friendly-url/6.png" alt="Drupal 7 - Настройка ЧПУ" /></p> <p><strong>Важно!</strong> Если вы решили изменить уже примененный шаблон ЧПУ, то после его изменения, нужно сначала удалить существующие алиасы страниц на вкладке &quot;DELETE ALIASES&quot;, и только после этого обновить на вкладке &quot;BULK UPDATE&quot;.</p></div> <div class="related"> <h2>Читайте также</h2> <a href="/drupal7-make-rubrics-list.html" target="_blank" >Drupal 7 - Создание списка рубрик</a> </div> <div class="share">Поделится: <script type="text/javascript">(function () { if (window.pluso) if (typeof window.pluso.start == "function") return; if (window.ifpluso == undefined) { window.ifpluso = 1; var d = document, s = d.createElement('script'), g = 'getElementsByTagName'; s.type = 'text/javascript'; s.charset = 'UTF-8'; s.async = true; s.src = ('https:' == window.location.protocol ? 'https' : 'http') + '://share.pluso.ru/pluso-like.js'; var h = d[g]('body')[0]; h.appendChild(s); } })();</script> <div class="pluso" data-background="transparent" data-options="small,round,line,horizontal,counter,theme=04" data-services="vkontakte,odnoklassniki,facebook,twitter,google,moimir,email,print"></div></div>   <div class="comments"> <a name="comments"></a> <div id="disqus_thread"></div> <script> var disqus_config = function () { this.page.url = "http://atoumus.github.io/drupal-7-setting-up-friendly-url.html"; this.language = "ru"; }; (function() { var d = document, s = d.createElement('script'); s.src = 'https://atoumus.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </div> </div> </div> <div class="footer"> <div class="left"> <div class="social"> <a href="#" class="icon search-toggle flaticon-magnifier" title="Поиск"></a> <a href="/atom.xml" target="_blank" class="icon flaticon-rss-feed-button" title="Atom лента"></a> <a href="https://twitter.com/atoumus/" target="_blank" class="icon flaticon-twitter-logo-silhouette" title="Twitter"></a> <a href="https://plus.google.com/u/0/116624784918762784912" target="_blank" class="icon flaticon-google-plus-logo-button" title="G+"></a> </div> <div class="author-email"> <a data-email-array='{"15":"o","11":"i","14":"c","0":"a","13":".","6":"s","5":"u","7":"@","1":"t","8":"g","10":"a","12":"l","9":"m","4":"m","3":"u","16":"m","2":"o"}' href="#"></a> </div> </div> <div class="right"> <div>  <script type="text/javascript"> document.write("<a href='//www.liveinternet.ru/click' "+ "target=_blank><img src='//counter.yadro.ru/hit?t25.5;r"+ escape(document.referrer)+((typeof(screen)=="undefined")?"": ";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth? screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+ ";"+Math.random()+ "' alt='' title='LiveInternet: показано число посетителей за"+ " сегодня' "+ "border='0' width='88' height='15'><\/a>") </script>  </div> <div> Atoumus Blog &copy; 2011 - 2018 </div> </div> </div> <div class="clear-both"></div> </div> <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script> <script type="text/javascript" src="/js/libs/prism.js"></script> <script type="text/javascript" src="/js/common.js"></script> </body> </html>