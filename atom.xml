<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[Atoumus blog]]></title>
  
  <link href="/atom.xml" rel="self"/>
  <link href="http://atoumus.github.io/"/>
  <updated>2016-08-13T05:14:43.761Z</updated>
  <id>http://atoumus.github.io/</id>
  
  <author>
    <name><![CDATA[atoumus]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Yii2 - Интернационализация проекта]]></title>
    <link href="http://atoumus.github.io/yii2-i18n.html"/>
    <id>http://atoumus.github.io/yii2-i18n.html</id>
    <published>2016-08-12T03:50:41.000Z</published>
    <updated>2016-08-13T05:14:43.761Z</updated>
    <content type="html"><![CDATA[<p>
<img src="/yii2-i18n-cover.png" alt="Yii2 - Интернационализация проекта" align="left" style="margin: 0 20px 15px 0">
Пример интернационализации сайта на Yii2 на двух языках: ru и en.
</p>

<a id="more"></a>
<p>В Yii2 уже встроен конпонент отвечающий за интернационализацию, называется он <code>i18n</code>. Для того что бы можно было начать им пользоваться, достаточно добавить его в конфигурацию приложения в раздел <code>components</code>. Также, для полноценной работы этого компонента, требуется PHP расширение <a href="http://www.php.net/manual/en/intro.intl.php" target="_blank" rel="external">intl</a>.</p>
<p>В данной статье будет рассмотрен пример интернационализации сайта на Yii2 на двух языках: ru и en.</p>
<p>Существуют два варианта записей идентификаторов языков:</p>
<ul>
<li>сокращенные, например ru, en;</li>
<li>полные, например: ru-RU, en-US.</li>
</ul>
<p>Мы будем использовать сокращенный вариант (ru и en), т.к. его вполне достаточно для требуемой функциональности и он более лаконично воспринимается визуально.</p>
<p>В качестве кодовой базы можно использовать как уже готовый сайт на Yii2, так и basic шаблон предоставляемый фреймворком. Как установить basic шаблон можно прочитать в <a href="/yii2-basic-advanced.html" title="этой статье">этой статье</a>.</p>
<h2 id="u0417_u0430_u0434_u0430_u0447_u0430"><a href="#u0417_u0430_u0434_u0430_u0447_u0430" class="headerlink" title="Задача"></a>Задача</h2><p>Сформулируем требования, чего необходимо добится:</p>
<ul>
<li>переключение сайта между двумя языками: ru и en;</li>
<li>отображение языка в адресной строке в виде <code>http://site.com/en/</code>;</li>
<li>автоматическое перенаправление пользователя на наиболее подходящий для него язык, если он перешел на сайт без указания языка;</li>
<li>хранение переводов должно осуществлятся в PHP файлах в виде массивов;</li>
<li>переводы статических страниц должны содержаться в отдельных представлениях для разных языков.</li>
</ul>
<h2 id="u041A_u043E_u043D_u0444_u0438_u0433_u0443_u0440_u0430_u0446_u0438_u044F"><a href="#u041A_u043E_u043D_u0444_u0438_u0433_u0443_u0440_u0430_u0446_u0438_u044F" class="headerlink" title="Конфигурация"></a>Конфигурация</h2><p>Начинаем реализацию с прописывания требуемых для этого конфигураций в файл <code>\config\web.php</code>:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">'sourceLanguage'</span> =&gt; <span class="string">'en'</span>,</span><br><span class="line">    <span class="string">'language'</span> =&gt; <span class="string">'en'</span>,</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">'components'</span> =&gt; [</span><br><span class="line">        ...</span><br><span class="line">        <span class="string">'urlManager'</span> =&gt; [</span><br><span class="line">            <span class="string">'enablePrettyUrl'</span> =&gt; <span class="keyword">true</span>,</span><br><span class="line">            <span class="string">'showScriptName'</span> =&gt; <span class="keyword">false</span>,</span><br><span class="line">            <span class="string">'rules'</span> =&gt; [</span><br><span class="line">            ],</span><br><span class="line">        ],</span><br><span class="line">        ...</span><br><span class="line">        <span class="string">'i18n'</span> =&gt; [</span><br><span class="line">            <span class="string">'translations'</span> =&gt; [</span><br><span class="line">                <span class="string">'common*'</span> =&gt; [</span><br><span class="line">                    <span class="string">'class'</span> =&gt; <span class="string">'yii\i18n\PhpMessageSource'</span>,</span><br><span class="line">                    <span class="string">'basePath'</span> =&gt; <span class="string">'@app/messages'</span>,</span><br><span class="line">                ],</span><br><span class="line">            ],</span><br><span class="line">        ],</span><br><span class="line">        ...</span><br><span class="line">    ]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>В этой конфигурации:</p>
<p><code>sourceLanguage</code> - исходный язык сообщений, т.е. тот который будет использован в виде ключей переводов, в данном случае <code>en</code>.</p>
<p><code>language</code> - язык по умолчанию, на который будет перенаправлен пользователь в случае невозможности определения для него наиболее подходящего языка на основе данных предоставляемых его браузером.</p>
<p><code>components -&gt; urlManager</code> - в данной секции включаем ЧПУ, для более наглядного отображения URL’ов.</p>
<p><code>components -&gt; i18n</code> - эта секция предназначена для конфигурирования конмпонента интеранционализации. Ключ массива <code>common*</code> - означает категорию к которой будут относиться переводы из соответствующего файла <code>common.php</code>. Название категории можно указать и любое другое, или например сделать несколько категорий, но для примера обойдемся одной. В секции <code>&#39;class&#39; =&gt; &#39;yii\i18n\PhpMessageSource&#39;</code> необходимо указать как именно мы будем хранить сообщения, в данном случае указано что в виде PHP файлов (в виде ассоциативных массивов). Кроме <code>yii\i18n\PhpMessageSource</code> существуют и другие варианты, например сообщения можно хранить в БД. В секции <code>&#39;basePath&#39; =&gt; &#39;@app/messages&#39;</code> указан путь по которому будут распологаться PHP файлы с переводами.</p>
<h2 id="u0424_u0430_u0439_u043B__u0441_u043E__u0441_u043F_u0438_u0441_u043A_u043E_u043C__u043F_u0435_u0440_u0435_u0432_u043E_u0434_u043E_u0432"><a href="#u0424_u0430_u0439_u043B__u0441_u043E__u0441_u043F_u0438_u0441_u043A_u043E_u043C__u043F_u0435_u0440_u0435_u0432_u043E_u0434_u043E_u0432" class="headerlink" title="Файл со списком переводов"></a>Файл со списком переводов</h2><p>Теперь необходимо создать PHP файл, который будет содержать в себе ассоциативный массив с переводами.</p>
<p>При конфигурировании компонента <code>i18n</code> мы указали:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="string">'translations'</span> =&gt; [</span><br><span class="line">    <span class="string">'common*'</span> =&gt; [</span><br><span class="line">        <span class="string">'class'</span> =&gt; <span class="string">'yii\i18n\PhpMessageSource'</span>,</span><br><span class="line">        <span class="string">'basePath'</span> =&gt; <span class="string">'@app/messages'</span>,</span><br><span class="line">    ],</span><br><span class="line">],</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>Это означает что файл с переводами должен иметь такое же имя, как и имя категории, т.е. <code>common.php</code>. Храниться он должен по такому пути <code>\messages\ru\common.php</code>.</p>
<p>Для нашего примера с двумя языками  (ru и en), достаточно создать один файл с переводами только для русского языка, т.к. переводы английского языка будут в виде ключей для всех остальных переводов. Т.е. везде по сайту будут английские сообщения, при переключении на русский язык, фреймворк будет их подменять на русские.</p>
<p>Например если бы мы хотели добавить какой либо дополнительный язык, например <code>de</code>, то кроме файла <code>\messages\ru\common.php</code> нам нужно было бы еще создать аналогичный для немецкого языка <code>\messages\de\common.php</code>. Но в нашем примере будет только один файл <code>\messages\ru\common.php</code>, создадим его, пока с пустым массивом:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> [];</span><br></pre></td></tr></table></figure>
<h2 id="u0412_u043D_u043E_u0441_u0438_u043C__u043F_u0435_u0440_u0435_u0432_u043E_u0434_u044B"><a href="#u0412_u043D_u043E_u0441_u0438_u043C__u043F_u0435_u0440_u0435_u0432_u043E_u0434_u044B" class="headerlink" title="Вносим переводы"></a>Вносим переводы</h2><p>Теперь необходимо внести переводы по коду сайта и также добавить их в файл <code>\messages\ru\common.php</code>.</p>
<p>Для вывода переводов в Yii2 существует специальный метод <code>Yii::t()</code>. Пример использования:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">&lt;?</span>= Yii::t(<span class="string">'common'</span>, <span class="string">'Example text...'</span>) <span class="preprocessor">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>В первом аргументе указываем категорию, у нас она одна - <code>common</code>. Во втором аргументе пишем английский текст в том виде как он должен отображаться на сайте.</p>
<p>После этого необходимо добавить русский перевод в файл <code>\messages\ru\common.php</code>:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> [</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">'Example text...'</span> =&gt; <span class="string">'Пример текста...'</span>,</span><br><span class="line">    ...</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<p>В качестве ключа используем английский перевод, а в качестве значения русский.</p>
<p>Необходимо проделать такие действия по всему коду, т.е. все отображаемые тексты позаменять на английские, причем выводить их надо с помощью <code>Yii::t()</code>. И также добавить для всех английских текстов переводы в файл <code>\messages\ru\common.php</code>.</p>
<h2 id="u041F_u0435_u0440_u0435_u043A_u043B_u044E_u0447_u0435_u043D_u0438_u0435__u044F_u0437_u044B_u043A_u043E_u0432"><a href="#u041F_u0435_u0440_u0435_u043A_u043B_u044E_u0447_u0435_u043D_u0438_u0435__u044F_u0437_u044B_u043A_u043E_u0432" class="headerlink" title="Переключение языков"></a>Переключение языков</h2><p>У пользователя должна быть возможность как то переключаться между языками. Для этого необходимо отображать ссылки для переходя на русский или английский язык. Для этой цели создадим специальный скрипт представления <code>\views\layouts\main\select-language.php</code>:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">yii</span>\<span class="title">bootstrap</span>\<span class="title">Html</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(\Yii::<span class="variable">$app</span>-&gt;language == <span class="string">'ru'</span>):</span><br><span class="line">    <span class="keyword">echo</span> Html::a(<span class="string">'Go to English'</span>, array_merge(</span><br><span class="line">        \Yii::<span class="variable">$app</span>-&gt;request-&gt;get(),</span><br><span class="line">        [\Yii::<span class="variable">$app</span>-&gt;controller-&gt;route, <span class="string">'language'</span> =&gt; <span class="string">'en'</span>]</span><br><span class="line">    ));</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">echo</span> Html::a(<span class="string">'Перейти на русский'</span>, array_merge(</span><br><span class="line">        \Yii::<span class="variable">$app</span>-&gt;request-&gt;get(),</span><br><span class="line">        [\Yii::<span class="variable">$app</span>-&gt;controller-&gt;route, <span class="string">'language'</span> =&gt; <span class="string">'ru'</span>]</span><br><span class="line">    ));</span><br><span class="line"><span class="keyword">endif</span>;</span><br></pre></td></tr></table></figure>
<p>Далее необходимо подключить этот скрипт в главном шаблоне представления <code>\views\layouts\main.php</code>, для этого следущую строку:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p class="pull-left"&gt;&amp;copy; My Company &lt;?= date('Y') ?&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<p>нужно наменить на:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p class="pull-left"&gt;&amp;copy; My Company &lt;?= date('Y') ?&gt; | &lt;?= $this-&gt;render('main/select-language') ?&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<p>В этой строке мы добавили рендеринг скрипта представления для переключения языков, благодаря ему в футере будет отображаться ссылка для перехода на другой язык. Выглядеть это будет примерно так:</p>
<p><img src="/yii2-i18n-1.png" alt="Yii2 - Интернационализация проекта"></p>
<h2 id="u0418_u0441_u043F_u043E_u043B_u044C_u0437_u043E_u0432_u0430_u043D_u0438_u0435__u0441_u0442_u043E_u0440_u043E_u043D_u043D_u0435_u0433_u043E_UrlManager"><a href="#u0418_u0441_u043F_u043E_u043B_u044C_u0437_u043E_u0432_u0430_u043D_u0438_u0435__u0441_u0442_u043E_u0440_u043E_u043D_u043D_u0435_u0433_u043E_UrlManager" class="headerlink" title="Использование стороннего UrlManager"></a>Использование стороннего UrlManager</h2><p>Теперь нам необходимо сделать так, что бы в строке адреса отображался текущий язык, например <code>http://site.com/en</code>. К сожалению Yii2 не предоставляет для этого каких либо встроенных возможностей, и даже сделать это какими то адекватными обходными путями не получиться, или по крайней мере сложно. Самым “правильным” выходом в этой ситуации будет переопределение станрадтного класса <code>yii\web\UrlManager</code> на свой собственный, в котором будут заменены некоторые методы. Эти замененные методы должны брать на себя реализацию отображения языка в строке адреса.</p>
<p>Вообще замена стандартных классов фреймворка на сторонние, лично на мой взгляд это хард-код. Но судя по всему в рамках фреймворка Yii2 это к сожалению нормальная практика.</p>
<p>Писать собственную реализацию класса <code>UrlManager</code> мы не будем, т.к. данный “велосипед” уже создан и его можно просто подключить через Composer, что мы и сделаем. Перехотим в консоле в корневую папку проекта, и выполняем команду (тут имеется ввиду что Composer установлен глобально):</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ composer require codemix/yii2-localeurls</span><br></pre></td></tr></table></figure>
<p>Пакет <code>codemix/yii2-localeurls</code> дает нам следующие возможности:</p>
<ul>
<li>отображение текущего языка в адресной строке;</li>
<li>перенаправление пользователя на наиболее подходящий для него язык на основе данных отправляемых его браузером.</li>
</ul>
<p>Далее нам нужно переконфигурировать компнент <code>urlManager</code> так, что бы он использовал не стандартный класс фреймворка, а только что подключенный. Для этого в файле <code>\config\web.php</code>, в секцию <code>componets -&gt; urlManager</code> добавляем следующие три строки:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">'components'</span> =&gt; [</span><br><span class="line">        ...</span><br><span class="line">        <span class="string">'urlManager'</span> =&gt; [</span><br><span class="line">            ...</span><br><span class="line">            <span class="string">'class'</span> =&gt; <span class="string">'codemix\localeurls\UrlManager'</span>,</span><br><span class="line">            <span class="string">'languages'</span> =&gt; [<span class="string">'ru'</span>, <span class="string">'en'</span>],</span><br><span class="line">            <span class="string">'enableDefaultLanguageUrlCode'</span> =&gt; <span class="keyword">true</span>,</span><br><span class="line">            ...</span><br><span class="line">        ],</span><br><span class="line">        ...</span><br><span class="line">    ]</span><br><span class="line">    ...</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>Немного объяснений по данной конфигурации:</p>
<p><code>&#39;class&#39; =&gt; &#39;codemix\localeurls\UrlManager&#39;</code> - указываем фреймворку что бы вместо стандартного класса <code>UrlManager</code> был использован тот который мы только что подключили через Composer.</p>
<p><code>&#39;languages&#39; =&gt; [&#39;ru&#39;, &#39;en&#39;]</code> - на какие языки переведен проект.</p>
<p><code>&#39;enableDefaultLanguageUrlCode&#39; =&gt; true</code> - этот флаг означает что мы ходим что бы текущий язык отображался в адресной строке всегда, даже если пользователь просто находиться на главной странице (т.е. адрес будет вида <code>http://site.com/en</code>). При желании этот флаг можно и не указывать, по умолчанию он будет иметь значение <code>false</code>, что означает что на главной странице язык в адресной строке отображаться не будет (т.е. адрес будет вида <code>http://site.com</code>). </p>
<h2 id="u0418_u043D_u0442_u0435_u0440_u043D_u0430_u0446_u0438_u043E_u043D_u0430_u043B_u0438_u0437_u0430_u0446_u0438_u044F__u0441_u0442_u0430_u0442_u0438_u0447_u0435_u0441_u043A_u0438_u0445__u0441_u0442_u0440_u0430_u043D_u0438_u0446"><a href="#u0418_u043D_u0442_u0435_u0440_u043D_u0430_u0446_u0438_u043E_u043D_u0430_u043B_u0438_u0437_u0430_u0446_u0438_u044F__u0441_u0442_u0430_u0442_u0438_u0447_u0435_u0441_u043A_u0438_u0445__u0441_u0442_u0440_u0430_u043D_u0438_u0446" class="headerlink" title="Интернационализация статических страниц"></a>Интернационализация статических страниц</h2><p>В Yii2 есть встроенный класс <code>\yii\web\ViewAction</code>, который предназначен для реализации статических страниц.</p>
<p>Но по умолчанию интернационализацию он не поддерживает.</p>
<p>Суть в том, что статические страницы имеют большой текст, который не удобно вставлять в файлы переводов (т.е. в нашем случае в файл <code>\messages\ru\common.php</code>). Переводы для статических страниц лучше всего хранить в отдельных файлах - в разных скриптах преставлений которые будут соостветствовать разным языкам.</p>
<p>Реализуем интернационализированные статические страницы, для этого в файле <code>\controllers\SiteController.php</code>, в методе <code>actions()</code> необходимо добавить следущую секцию:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actions</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [</span><br><span class="line">        ...</span><br><span class="line">        <span class="string">'page'</span> =&gt; [</span><br><span class="line">            <span class="string">'class'</span> =&gt; \yii\web\ViewAction::className(),</span><br><span class="line">            <span class="string">'viewPrefix'</span> =&gt; <span class="string">'pages/'</span> . \Yii::<span class="variable">$app</span>-&gt;language</span><br><span class="line">        ]</span><br><span class="line">        ...</span><br><span class="line">    ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>В этой секции и находиться основной код который позволяет интернационализировать статические страницы, это <code>&#39;viewPrefix&#39; =&gt; &#39;pages/&#39; . \Yii::$app-&gt;language</code>. В параметре <code>viewPrefix</code> мы указываем по какому пути у нас будут находиться скриты представлений для статических страниц, но в нашем случае мы еще и подставляем в этот путь текущий язык <code>\Yii::$app-&gt;language</code>.</p>
<p>Далее создадим два файла представления, которые будут соответствовать одной статической странице, но каждый будет для своего языка. Для английского <code>\views\site\pages\en\some.php</code> должен содержать текст: <code>EN static page...</code>. Для русского <code>\views\site\pages\ru\some.php</code> должен содержать текст <code>Русская статическая страница...</code>.</p>
<p>Теперь настроим ЧПУ для наглядного отображения адресов статических страниц, для этого в конфиге <code>\config\web.php</code> в секцию <code>urlManager -&gt; rules</code> добавим правило:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'urlManager'</span> =&gt; [</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">'rules'</span> =&gt; [</span><br><span class="line">        <span class="string">'page/&lt;view:[a-zA-Z0-9-]+&gt;'</span> =&gt; <span class="string">'site/page'</span>,</span><br><span class="line">    ],</span><br><span class="line">    ...</span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<p>На этом, реализация статических страниц закончена, можно проверить, попробовать открыть два адреса в браузере:</p>
<ul>
<li><code>http://site.com/ru/page/some</code> - откроется русская статическая страница;</li>
<li><code>http://site.com/en/page/some</code> - английская.</li>
</ul>
<h2 id="u0417_u0430_u043A_u043B_u044E_u0447_u0435_u043D_u0438_u0435"><a href="#u0417_u0430_u043A_u043B_u044E_u0447_u0435_u043D_u0438_u0435" class="headerlink" title="Заключение"></a>Заключение</h2><p>В целом реализация интернационализации в Yii2 не представляет ничего сложного, особено если использовать сторонний компонент <code>codemix/yii2-localeurls</code>.</p>
<p>Задача, которая была описана в начале статьи полностью выполнена:</p>
<ul>
<li>переключение сайта между двумя языками происходит по ссылке которая расположена в футере;</li>
<li>текущий язык отображается в адресной строке в виде <code>http://site.com/en/</code>;</li>
<li>если пользователь перешел на сайт не указав язык (т.е. <code>http://site.com</code>), то он будет перенаправлен на наиболее подходящий язык (т.е. например на <code>http://site.com/en</code>);</li>
<li>хранение переводов осуществляется в PHP файлах в виде ассоциативных массивов;</li>
<li>переводы статических страниц хранятся в отдельных представлениях для разных языков.</li>
</ul>]]></content>
    <summary type="html">
    <![CDATA[<p>
<img src="/yii2-i18n-cover.png" alt="Yii2 - Интернационализация проекта" align="left" style="margin: 0 20px 15px 0">
Пример интернационализации сайта на Yii2 на двух языках: ru и en.
</p>]]>
    
    </summary>
    
      <category term="Yii2" scheme="http://atoumus.github.io/categories/Yii2/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Yii2 - Отображение флеш (пользовательских) сообщений на сайте]]></title>
    <link href="http://atoumus.github.io/yii2-flash-messages.html"/>
    <id>http://atoumus.github.io/yii2-flash-messages.html</id>
    <published>2016-08-10T03:45:41.000Z</published>
    <updated>2016-08-12T05:58:18.794Z</updated>
    <content type="html"><![CDATA[<p>
<img src="/yii2-flash-messages-result.png" alt="Yii2 - отображение флеш сообщений на сайте" align="left" style="margin: 0 20px 15px 0">
Как отображать простейшие пользовательские уведомления на сайте с использованием фреймворка Yii2.
</p>

<a id="more"></a>
<h2 id="u041D_u0435_u043C_u043D_u043E_u0433_u043E__u0442_u0435_u043E_u0440_u0438_u0438"><a href="#u041D_u0435_u043C_u043D_u043E_u0433_u043E__u0442_u0435_u043E_u0440_u0438_u0438" class="headerlink" title="Немного теории"></a>Немного теории</h2><p>Флеш сообщения в данном случае - это уведомления отображаемые пользователю при каких либо событиях.</p>
<p>В Yii2 уже встроен механизм для работы с флеш сообщениями. Работает он по такому принципу:</p>
<ol>
<li>С помощью метода <code>\Yii::$app-&gt;session-&gt;addFlash()</code> добавляем сообщение в сессию.</li>
<li>Сообщение в сессии хранится до тех пор пока оно оттуда не будет извлечено методом <code>Yii::$app-&gt;session-&gt;getAllFlashes()</code>.</li>
<li>Как только сообщение извлечено, оно удаляется из сессии.</li>
</ol>
<h2 id="u0420_u0435_u0430_u043B_u0438_u0437_u0430_u0446_u0438_u044F__u0444_u043B_u0435_u0448__u0441_u043E_u043E_u0431_u0449_u0435_u043D_u0438_u0439"><a href="#u0420_u0435_u0430_u043B_u0438_u0437_u0430_u0446_u0438_u044F__u0444_u043B_u0435_u0448__u0441_u043E_u043E_u0431_u0449_u0435_u043D_u0438_u0439" class="headerlink" title="Реализация флеш сообщений"></a>Реализация флеш сообщений</h2><p>Далее, в качестве кодовой базы будет использован basic шаблон приложения предоставляемый Yii2. Как установить basic шаблон приложения описано в <a href="/yii2-basic-advanced.html" title="этой статье">этой статье</a>.</p>
<p>Теперь реализуем флеш сообщения на практике. В данном примере рассматриваются простейшие пользовательские уведомления, без каких либо анимаций и пр. Эти уведомления будут просто отображаться в верхней части сайта перед выводом остального контента.</p>
<ol>
<li><p>Сначало создадим вспомогательный скрипт представления, в котором разместим код выводящий флеш сообщения. Для этого необходимо создать файл <code>\views\layouts\main\flashes.php</code> со следующим содержанием:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php foreach(Yii::$app-&gt;session-&gt;getAllFlashes() as $type =&gt; $messages): ?&gt;</span><br><span class="line">    &lt;?php foreach($messages as $message): ?&gt;</span><br><span class="line">        &lt;div class="alert alert-&lt;?= $type ?&gt;" role="alert"&gt;&lt;?= $message ?&gt;&lt;/div&gt;</span><br><span class="line">    &lt;?php endforeach ?&gt;</span><br><span class="line">&lt;?php endforeach ?&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Далее необходимо подключить только что созданное представление <code>flashes.php</code> в шаблон <code>\views\layouts\main.php</code>:<br><img src="/yii2-flash-messages-1.png" alt="Yii2 - отображение флеш сообщений на сайте"></p>
</li>
<li><p>Теперь можно проверить как работают флеш сообщения, для этого в контроллере <code>\controllers\SiteController.php</code> добавляем следующие строки кода:<br><img src="/yii2-flash-messages-2.png" alt="Yii2 - отображение флеш сообщений на сайте"></p>
</li>
<li><p>Обновляем страницу в браузере и видим результат:<br><img src="/yii2-flash-messages-result.png" alt="Yii2 - отображение флеш сообщений на сайте"></p>
</li>
</ol>
<h2 id="u0417_u0430_u043A_u043B_u044E_u0447_u0435_u043D_u0438_u0435"><a href="#u0417_u0430_u043A_u043B_u044E_u0447_u0435_u043D_u0438_u0435" class="headerlink" title="Заключение"></a>Заключение</h2><p>Вообще это немного не полная реализация флеш сообщений. Потому что сейчас они отображаются при каждом обновлении главной страницы. В реальных приложениях флеш сообщения отображаются только после каких либо действий, и далее пропадают. Наример, пользователю можно отобразить сообщение после регистрации о том, что ему необходимо подтвердить свой e-mail дрес, это сообщение достаточно отобразить один раз после чего оно должно исчезнуть. </p>]]></content>
    <summary type="html">
    <![CDATA[<p>
<img src="/yii2-flash-messages-result.png" alt="Yii2 - отображение флеш сообщений на сайте" align="left" style="margin: 0 20px 15px 0">
Как отображать простейшие пользовательские уведомления на сайте с использованием фреймворка Yii2.
</p>]]>
    
    </summary>
    
      <category term="Yii2" scheme="http://atoumus.github.io/categories/Yii2/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Yii2 - Установка basic и advanced шаблонов приложения через Composer]]></title>
    <link href="http://atoumus.github.io/yii2-basic-advanced.html"/>
    <id>http://atoumus.github.io/yii2-basic-advanced.html</id>
    <published>2016-08-10T03:40:41.000Z</published>
    <updated>2016-08-10T04:20:50.272Z</updated>
    <content type="html"><![CDATA[<p>
<img src="/yii2-base-app-cover.png" alt="Yii2 - установка basic шаблона приложения через composer" align="left" style="margin: 0 20px 15px 0">
Yii2 предоставляет возможность начать разработку нового проекта с уже готового "каркаса". На выбор предоставляется два шаблона приложения: basic и advanced. Об их отличиях и установке пойдет речь в этой статье. 
</p>

<a id="more"></a>
<p>Шаблон приложения basic это “упрощенная” заготовка для будущего сайта. Этот шаблон представлет собой уже структурированную кодовую базу, имеющую в себе для примера один котроллер, модель и пару форм. Это то, с чего можно начинать новый проект, либо просто изучение данного фреймворка.</p>
<p>Также Yii2 предоставляет другой, более расширенный шаблон приложения под названием advanced. От basic он отличается более размашистой структурой, ориентированной на более серьезный проект.</p>
<p>Какой именно выбирать, зависит от величины будущего проекта. Далее будет рассмотрена установка обеих шаблонов через composer.</p>
<h2 id="u0423_u0441_u0442_u0430_u043D_u043E_u0432_u043A_u0430_basic__u0438_u043B_u0438_advanced__u0448_u0430_u0431_u043B_u043E_u043D_u0430__u043F_u0440_u0438_u043B_u043E_u0436_u0435_u043D_u0438_u044F"><a href="#u0423_u0441_u0442_u0430_u043D_u043E_u0432_u043A_u0430_basic__u0438_u043B_u0438_advanced__u0448_u0430_u0431_u043B_u043E_u043D_u0430__u043F_u0440_u0438_u043B_u043E_u0436_u0435_u043D_u0438_u044F" class="headerlink" title="Установка basic или advanced шаблона приложения"></a>Установка basic или advanced шаблона приложения</h2><ol>
<li><p>Создаем папку нового проекта и переходим в нее (путь <code>/var/www/</code> у вас может быть другим):</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir /var/www/yii2-new-app &amp;&amp; <span class="built_in">cd</span> <span class="variable">$_</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>С помощью composer создаем в новой папке basic или advanced проект фреймворка Yii2 (в данной команде имеется ввиду что composer установлен глобально):</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ composer create-project yiisoft/yii2-app-basic ./</span><br><span class="line"><span class="comment"># или</span></span><br><span class="line">$ composer create-project yiisoft/yii2-app-advanced ./</span><br></pre></td></tr></table></figure>
</li>
<li><p>Запускаем встроенный веб-сервер PHP:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./yii serve</span><br></pre></td></tr></table></figure>
</li>
<li><p>Открываем в браузере адрес на который работает запущенный веб-сервер, по умолчанию это: <a href="http://localhost:8080/" target="_blank" rel="external">http://localhost:8080/</a><br>Должна открыться стартовая страница basic или advanced шаблона приложения фреймворка Yii2, в зависимости от того какой именно вы установили.</p>
</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p>
<img src="/yii2-base-app-cover.png" alt="Yii2 - установка basic шаблона приложения через composer" align="left" style="margin: 0 20px 15px 0">
Yii2 предоставляет возможность начать разработку нового проекта с уже готового "каркаса". На выбор предоставляется два шаблона приложения: basic и advanced. Об их отличиях и установке пойдет речь в этой статье. 
</p>]]>
    
    </summary>
    
      <category term="Yii2" scheme="http://atoumus.github.io/categories/Yii2/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Книги - Разработка веб-приложений в Yii 2 (Марк Сафронов)]]></title>
    <link href="http://atoumus.github.io/book-web-dev-yii2.html"/>
    <id>http://atoumus.github.io/book-web-dev-yii2.html</id>
    <published>2016-08-05T04:37:41.000Z</published>
    <updated>2016-08-05T04:06:58.738Z</updated>
    <content type="html"><![CDATA[<p>
<img src="/web-dev-yii2-book-cover.jpg" alt="Книги - Разработка веб-приложений в Yii 2 (Марк Сафронов)" align="left" style="margin: 0 20px 15px 0">
Книга о популярном фреймворке Yii версии 2. Автор рассматривает различные аспекты данного фреймворка, а также то как они работают изнутри.
</p>

<a id="more"></a>
<p>Подход к изучению Yii 2 в этой книге немного не такой, какой обычно используется в подобной литератуле. В начале книги автор рассматривает то как можно создать базовое и расширенное приложения на основе уже заготовленных шаблонов (basic и advanced). Но после этого, в большей части книги, говорится о том как создать приложение на Yii 2 не используя заготовленных шаблонов, т.е. как это сделать с нуля, пошагово, начиная с создания index.php и т.д. до полноценного приложения. И в этом, можно сказать, прелесть этой книги. Из-за такого нестандартного рассмотрения фреймворка, становится более понятно его внутреннее устройство что и как в нем работает, принципы на основе которых он построен.</p>
<p>Кроме этого, на протяжении всей книги автор сразу приучает читателя использовать автоматическое тестирование, в данном случае это Codeception, т.к. он встроен в Yii 2 по умолчанию.</p>
<p>Из недостатков, в этой книге есть ошибки и не одна. Ошибки в приведенных листингах кода. Хотя все их можно исправить и самому, это не сложно :)</p>
<p>Также встречал негативные отзывы об этой книге, но тут кому что нравится. Эта книга не мануал по быстрому освоению фреймворка. Целью этой книги является именно то, что бы читатель понял суть фреймворка изнутри.</p>
<p>Для кого эта книга, скорее всего не для начинающих, а для тех кто уже имел дело с другими фреймворками.</p>
<p>Также в этой книге рассматриваются такие важные аспекты как:</p>
<ul>
<li>развертывание локальной виртуальной машины с использованием Vagrant;</li>
<li>миграции БД;</li>
<li>маршрутизация;</li>
<li>виджеты;</li>
<li>модули;</li>
<li>сжатие материалов (JS и CSS);</li>
<li>разграничение прав пользователей (RBAC);</li>
<li>работа с событиями;</li>
<li>кеширование данных;</li>
<li>модели БД;</li>
<li>формы;</li>
<li>и пр. не менее важные детали этого фреймворка.</li>
</ul>
<p>Для тех кто решил изучить Yii 2, можно однозначно посоветовать прочитать эту книгу. Моя оценка: 5/5.</p>]]></content>
    <summary type="html">
    <![CDATA[<p>
<img src="/web-dev-yii2-book-cover.jpg" alt="Книги - Разработка веб-приложений в Yii 2 (Марк Сафронов)" align="left" style="margin: 0 20px 15px 0">
Книга о популярном фреймворке Yii версии 2. Автор рассматривает различные аспекты данного фреймворка, а также то как они работают изнутри.
</p>]]>
    
    </summary>
    
      <category term="Books" scheme="http://atoumus.github.io/categories/Books/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Vagrant / VirtualBox / Windows 10 - Ошибка Failed to create the host-only adapter]]></title>
    <link href="http://atoumus.github.io/vagrant-vbox-win-10-failed-create-adapter.html"/>
    <id>http://atoumus.github.io/vagrant-vbox-win-10-failed-create-adapter.html</id>
    <published>2016-08-04T03:27:02.000Z</published>
    <updated>2016-08-04T04:38:30.365Z</updated>
    <content type="html"><![CDATA[<p>При использовании Vagrant как средства для развертывания виртуальной машины на Windows 10 начала возникать ошибка: <strong>Failed to create the host-only adapter</strong>. Далее о том как ее исправить.</p>
<a id="more"></a>
<p>Имеем: Windows 10 / Vagrant 1.8.5 / VirtualBox 5.1.2</p>
<p>При выполнении команды <code>vagrant up</code> возникает ошибка примерно следующего вида:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Command: [&#34;hostonlyif&#34;, &#34;create&#34;]&#10;&#10;Stderr: 0%...&#10;Progress state: E_FAIL&#10;VBoxManage.exe: error: Failed to create the host-only adapter&#10;VBoxManage.exe: error: Code E_FAIL (0x80004005) - Unspecified error (extended info not available)&#10;VBoxManage.exe: error: Context: &#34;int __cdecl handleCreate(struct HandlerArg *,int,int *)&#34; at line 66 of file VBoxManageHostonly.cpp</span><br></pre></td></tr></table></figure>
<p>Причем ранее, на Windows 8 этой ошибки небыло.</p>
<p>Как оказалось, в VirtualBox уже позаботились об этом и выпустили специальный exe-фикс, который приводит VirtualBox в чувства:</p>
<ol>
<li>Необходимо перейти по этой ссылке: <a href="https://www.virtualbox.org/attachment/ticket/14040/VBox-Win10-fix-14040.exe" target="_blank" rel="external">https://www.virtualbox.org/attachment/ticket/14040/VBox-Win10-fix-14040.exe</a>.</li>
<li>На открывшейся странице нажать на ссылку “downloading”.</li>
<li>После скачивания exe файла, запустить его от имени администратора.</li>
<li>Попробовать запустить команду <code>vagrant up</code>, должна отработать без ошибок.</li>
<li>После этих действий можно удалить скачанный exe файл.</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p>При использовании Vagrant как средства для развертывания виртуальной машины на Windows 10 начала возникать ошибка: <strong>Failed to create the host-only adapter</strong>. Далее о том как ее исправить.</p>]]>
    
    </summary>
    
      <category term="Tools" scheme="http://atoumus.github.io/categories/Tools/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Книги - Rework Бизнес без предрассудков (Джейсон Фрайд, Дэвид Хейнмейер Ханссон)]]></title>
    <link href="http://atoumus.github.io/rework.html"/>
    <id>http://atoumus.github.io/rework.html</id>
    <published>2016-04-07T04:19:41.000Z</published>
    <updated>2016-04-07T06:10:30.429Z</updated>
    <content type="html"><![CDATA[<p>
<img src="/050416-rework-cover.jpg" alt="Книги - Rework: Бизнес без предрассудков (Джейсон Фрайд, Дэвид Хейнмейер Ханссон)" align="left" style="margin-right: 10px">
Книга от создателей компании <a href="https://ru.wikipedia.org/wiki/37signals" target="_blank">37signals</a>. О том как правильно создавать и управлять компанией. Авторы предлагают отказаться от стандартных практик в этом деле и предлагают свои неординарные подходы.
</p>

<a id="more"></a>
<p>Есть в этой кгине немало полезных мыслей. Но есть и “громкие слова” которые могут не всем понравиться. Книга небольшая, около 80 страниц, написана простым языком, читаеться легко. Моя оценка: 4+/5. </p>
<p>Есть два типа книг. Первые - имеют в своей сути какую то основую идею, которую и описывают с разных сторон на протяжении всей книги, как правило в них много воды. Вторые - содержащие в себе сборник полезных идей. Вторые намного ценнее первых и заслуживают того что бы их перечитывать несколько раз. Книга Rework относиться именно ко второму типу.</p>
<p>Всем тем кто хочет создать свой проект/стартап, а так же тем у кого уже есть свой бизнес - стоит прочитать эту книгу.</p>
<p>Далее некоторые цитаты из книги.</p>
<h2 id="u0414_u043E_u043B_u0433_u043E_u0441_u0440_u043E_u0447_u043D_u043E_u0435__u043F_u043B_u0430_u043D_u0438_u0440_u043E_u0432_u0430_u043D_u0438_u0435_-__u044D_u0442_u043E__u043D_u0435__u0431_u043E_u043B_u0435_u0435__u0447_u0435_u043C__u0434_u043E_u0433_u0430_u0434_u043A_u0438"><a href="#u0414_u043E_u043B_u0433_u043E_u0441_u0440_u043E_u0447_u043D_u043E_u0435__u043F_u043B_u0430_u043D_u0438_u0440_u043E_u0432_u0430_u043D_u0438_u0435_-__u044D_u0442_u043E__u043D_u0435__u0431_u043E_u043B_u0435_u0435__u0447_u0435_u043C__u0434_u043E_u0433_u0430_u0434_u043A_u0438" class="headerlink" title="Долгосрочное планирование - это не более чем догадки"></a>Долгосрочное планирование - это не более чем догадки</h2><p>Речь идет о долгосрочном планировании, например на несколько лет. Во-первых трудно в точности предусмотреть все нюансы развития компании на будущее. Во-вторых за такой длительный период может многое поменяться и планы станут не актуальными. Также если в точности придерживаться планов, это лишает некоторой свободы в выборе направления движения компании. Конечно тут не говориться о том что нужно вообще ничего не планировать, все должно быть в меру, должны быть и планы, и некоторая свобода выбора что бы можно было ориентироваться и корректировать планы по ходу действий.</p>
<blockquote><p>Если вы не предсказатель, то долгосрочное бизнес-планирование будет для вас не более чем фантазией. Существует слишком много факторов, на которые вы не можете влиять: рыночные условия, конкуренты, клиенты, состояние экономики и т.д. Написание плана позволяет вам якобы ощутить контроль над вещами, над которыми вы на самом деле не властны.</p></blockquote>
<blockquote><p>Мы думаем, что знаем, сколько времени потребуется на решение той или иной задачи, хотя на самом деле не имеем об этом никакого понятия. Мы прогнозируем ход развитися событий без неизбежных задержек, исходя из наилучшего сценария, который никогда не воплощается в реальности.</p>
<p>Именно поэтому предположения, которые строятся на недели, месяцы и годы вперед, не более чем фантазии. По правде же, вы просто не знаете, что произойдет через такое длительное время.</p></blockquote>
<blockquote><p>“Мы идем этим путем, потому что мы сказали, что пойдем этим путем”. И в этом заключаеться проблема: планы несовместимы с импровизацией. А у вас должны быть возможность импровизировать. Иногда вам нужно сказать: “Мы пойдем в новом направлении, потому что сегодня это имеет смысл”.</p></blockquote>
<blockquote><p>Установка сроков в долгосрочных планах - тоже полная ерунда. <strong>Вы обладаете наиболее полной информацией, когда вы уже что-то делаете, а не до того, как вы начали это делать</strong>. Однако планы вы обычно составляете до того, как начинаете дело. Это худшее время для принятия глобальных решений.</p></blockquote>
<blockquote><p>Мы говорим это не для того, что бы вы вообще не думали о будущем и о том, как намерены преодолевать препятствия, которые встретятся вам на пути. Это полезное занятие. Просто не надо зацикливатья на этих мыслях. Велика вероятность, что, составив более чем 20-страничный план, вы им так и не воспользуетесь, и он в итоге осядет древним ископаемым в вашем архиве.</p></blockquote>
<blockquote><p>Неважно, как долго вы будете планировать, все равно какие-то вещи пойдут наперекосяк.</p></blockquote>
<h2 id="u0417_u0430_u043D_u044F_u0442_u044C_u0441_u044F__u0442_u0435_u043C__u043F_u0440_u043E_u0435_u043A_u0442_u043E_u043C_2C__u043A_u043E_u0442_u043E_u0440_u044B_u0439__u043D_u0443_u0436_u0435_u043D__u0432_u0430_u043C__u0441_u0430_u043C_u0438_u043C"><a href="#u0417_u0430_u043D_u044F_u0442_u044C_u0441_u044F__u0442_u0435_u043C__u043F_u0440_u043E_u0435_u043A_u0442_u043E_u043C_2C__u043A_u043E_u0442_u043E_u0440_u044B_u0439__u043D_u0443_u0436_u0435_u043D__u0432_u0430_u043C__u0441_u0430_u043C_u0438_u043C" class="headerlink" title="Заняться тем проектом, который нужен вам самим"></a>Заняться тем проектом, который нужен вам самим</h2><blockquote><p><strong>Самый простой и очевидный способ создать первоклассный продукт или услугу - сделать что-то, что бы вы сами хотели использовать. Это позволит решать вопросы, которые вам действительно близки, и вы сразу сможете понять, имеет ли хоть какую-то ценность то, что вы делаете.</strong></p></blockquote>
<blockquote><p>У нас в 37signals мы делаем продукты, которые нужны нам самим для ведения нашего бизнеса. Например, нам нужно было отслеживать, с кем мы общались, о чем шел разговор и когда нужно перезвонить в следующий раз. Так мы создали Highrise, наш контакт-менеджер.</p></blockquote>
<blockquote><p><strong>В процессе создания продукта или услуги вам ежедневно приходиться принимать сотни маленьких решений. Имея дело с чужой проблемой, вы постоянно бродите в темноте. При работе над собственной проблемой появляеться свет - вы точно знаете, какой ответ являеться правильным</strong>.</p></blockquote>
<blockquote><p>Изобретатель Джим Дайсон, убираясь в доме, заметил, что его пылесос с мешком для сбора пыли постоянно теряет мощность всасывания - пыль продолжала засорять поры пылесборника и мешала прохождению потока воздуха. Это не было чужой воображаемой проблемой - Дайсону пришлось испытать ее на своей шкуре. Он принял решение справиться с ней и через некоторое время придумал первый в мире вихревой пылесос без мешка для сбора пыли.</p></blockquote>
<h2 id="u041E_u0442_u0441_u0443_u0442_u0441_u0442_u0432_u0438_u0435__u0432_u0440_u0435_u043C_u0435_u043D_u0438__u043D_u0435__u043E_u043F_u0440_u0430_u0432_u0434_u0430_u043D_u0438_u0435"><a href="#u041E_u0442_u0441_u0443_u0442_u0441_u0442_u0432_u0438_u0435__u0432_u0440_u0435_u043C_u0435_u043D_u0438__u043D_u0435__u043E_u043F_u0440_u0430_u0432_u0434_u0430_u043D_u0438_u0435" class="headerlink" title="Отсутствие времени не оправдание"></a>Отсутствие времени не оправдание</h2><blockquote><p>“У меня нет на это времени” - вот ниболее частое оправдание, которым пользуются люди. Они заявляют, что с удовольствием создали бы новую компанию, изучили новый инструмент, продали изобретение, написали книгу или сделали еще что-нибудь, но для этого в сутках не хватает часов.</p>
<p>Прекратите. Времени всегда достаточно, если вы его правильно тратите. И не думайте, что вам для этого нужно уйти со своей постоянной работы. Возмитесь и начните работать над своим проектом по вечерам.</p>
<p>Вместо того что бы смотреть телевизор или играть в игры, работайте над своей идеей. Вместо того что бы идти спать в 10 вечера, ложитесь в 11. Речь идет не о том, что бы становиться полуночником или работать по 16 часов в день, а всего лишь о том, что бы выделить несколько дополнительных часов в неделю. Их будет достаточно, что бы сдвинуть дело с мертвой точки.</p>
<p>А когда вы это сделаете, то поймете, реальны ваши вдохновение и интерес или же они - промежуточный этап. Если ожидания не будут оправданы, вы просто продолжите каждый день ходить на работу, как и прежде. Вы ничем не рискнули и ничего не потеряли, кроме небльшого количества времени, так что жалеть не о чем.</p>
<p><strong>Если вам чего то безумно хочется, вы найдете на это время, несмотря на остальные обязанности.</strong></p>
<p>Кроме того, идеальное время никогда не наступит. Вы всегда либо слишком молоды, либо слишком стары, либо слишком заняты, либо слишком устали, либо еще что-нибудь. Если вы постоянно беспокоитесь о выборе идеального момента, он никогда не наступит.</p></blockquote>
<h2 id="u041D_u0435_u043D_u0443_u0436_u043D_u043E__u043F_u0435_u0440_u0435_u043D_u0430_u0441_u044B_u0449_u0430_u0442_u044C__u043F_u0440_u043E_u0434_u0443_u043A_u0442__u0444_u0443_u043D_u043A_u0446_u0438_u043E_u043D_u0430_u043B_u044C_u043D_u043E_u0441_u0442_u044C_u044E"><a href="#u041D_u0435_u043D_u0443_u0436_u043D_u043E__u043F_u0435_u0440_u0435_u043D_u0430_u0441_u044B_u0449_u0430_u0442_u044C__u043F_u0440_u043E_u0434_u0443_u043A_u0442__u0444_u0443_u043D_u043A_u0446_u0438_u043E_u043D_u0430_u043B_u044C_u043D_u043E_u0441_u0442_u044C_u044E" class="headerlink" title="Ненужно перенасыщать продукт функциональностью"></a>Ненужно перенасыщать продукт функциональностью</h2><p>Невозможно создать продукт который бы подходил всем. В любом лучае кому то он будет нравиться а кому то нет. Не нужно стремиться к тому что бы угодить всем, что бы в продукте была функциональность на любой случай жизни и для любого клиента. Нужно придержиаться своей линии, и внедрять только то что необходимо, а не “размывать” продукт множеством нужной и не нужной функциональности.</p>
<blockquote><p>Твердая позиция - это именно то, что привлекает преданных поклонников.</p>
<p>Твердые убеждения не даются бесплатно. Ими вы отвратите от себя некоторых людей.</p>
<p><strong>На каждого, кто любит вас, найдутся другие, которые вас ненавидят.</strong></p></blockquote>
<h2 id="u0412_u043D_u0435_u0448_u043D_u0438_u0435__u0434_u0435_u043D_u044C_u0433_u0438_-__u044D_u0442_u043E__u043A_u0440_u0430_u0439_u043D_u0438_u0439__u0441_u043B_u0443_u0447_u0430_u0439"><a href="#u0412_u043D_u0435_u0448_u043D_u0438_u0435__u0434_u0435_u043D_u044C_u0433_u0438_-__u044D_u0442_u043E__u043A_u0440_u0430_u0439_u043D_u0438_u0439__u0441_u043B_u0443_u0447_u0430_u0439" class="headerlink" title="Внешние деньги - это крайний случай"></a>Внешние деньги - это крайний случай</h2><blockquote><p>Вне зависимости от того, какое дело вы хотите начать, привлекайте как можно меньше внешних денег. Идея тратить чужие деньги может показаться прилекательной, но тем самым вы накидываете себе петлю на шею.</p></blockquote>
<blockquote><p>Вы теряете контроль. Привлекая финансирование со стороны, вы должны будете отвечать перед инвесторами. Поначалу, пока все сходяться во мнениях, отношения прекрасны. Но что случиться в дальнейшем? Разве вы начинаете собственное дело, что бы подчиняться кому-то еще? Стоит только привлечь деньги - и зависимоть неизбежна.</p></blockquote>
<blockquote><p><strong>Мнение клиентов сбрасываетья со счетов. В конце концов вы создаете то, что хотят инвесторы, вместо того, что хотят клиенты.</strong></p></blockquote>
<h2 id="u041C_u0430_u043B_u0435_u043D_u044C_u043A_u0430_u044F__u043A_u043E_u043C_u043F_u0430_u043D_u0438_u044F__u044D_u0442_u043E__u0445_u043E_u0440_u043E_u0448_u043E"><a href="#u041C_u0430_u043B_u0435_u043D_u044C_u043A_u0430_u044F__u043A_u043E_u043C_u043F_u0430_u043D_u0438_u044F__u044D_u0442_u043E__u0445_u043E_u0440_u043E_u0448_u043E" class="headerlink" title="Маленькая компания это хорошо"></a>Маленькая компания это хорошо</h2><p>Расти нужно постепенно, нанимать новых сотрудников нужно тогда, когда это необходимо. Быть маленькой компанией - это хорошо, т.к. в маленьком коллективе меньше бюрокртии и можно быстро принимать важные ршения.</p>
<blockquote><p><strong>Чем массивнее объект, теб больше энергии требуеться для изменения его направления.</strong></p></blockquote>
<blockquote><p>На коктейльных вечеринках, где гости не знают друг друга, беседы обычно несодержательны и вызывают неловкость. Разговоры ведутся о погоде, спорте, телевизионных шоу и т.п. Вы обходите стороной разговоры на серьезные темы и воздерживаетесь от обсуждения спорных вопросов.</p>
<p>Совсем другое дело - небольшие душевные вечеринки, на которых собираются старые друзья. Вот где ведутся действительно интересные разговоры и горячие дебаты! В конце такого вечера вы понимаете, что на самом деле смогли открыть для себя что то новое.</p>
<p>При быстром найме множества людей все закончится как раз проблемой “незнакомцев на коктейльной вечерике”. Вокруг постоянно мелькают новые лица, поэтому все неизбежно вежливы друг с другом и пытаются избегать любого конфликта или драмы. Никто не говорит: “Эта идея - отстой”. В тех случаях, когда следовало бы бросить вызов, люди ведут себя спокойно.</p></blockquote>
<h2 id="u0418_u0437_u043E_u0431_u0438_u043B_u0438_u0435_-__u044D_u0442_u043E__u043D_u0435__u0432_u0441_u0435_u0433_u0434_u0430__u0445_u043E_u0440_u043E_u0448_u043E"><a href="#u0418_u0437_u043E_u0431_u0438_u043B_u0438_u0435_-__u044D_u0442_u043E__u043D_u0435__u0432_u0441_u0435_u0433_u0434_u0430__u0445_u043E_u0440_u043E_u0448_u043E" class="headerlink" title="Изобилие - это не всегда хорошо"></a>Изобилие - это не всегда хорошо</h2><p>Тут конечно все должно быть в рамках разумного. Если что то действительно необходимо - то его стоить приобрести. Если же это просто прихоть - то стоить подумать нужно ли вам то что вы хотите.</p>
<blockquote><p>Ограниченные ресурсы заставляют вас рациональнее распоряжаться тем, что вы имеете. Отсутствие возможностей для расточительства вынуждает вас быть изобретательными.</p></blockquote>
<blockquote><p>Авиакомпания Southwest Airlines, в отличие от большинства других авиаперевозчиков, которые летают на нескольких моделях самолетов, используют только Boeing 737. Как следствие, каждый пилот Southwest, стюардесса и член наземной команды могут обслуживать любой из рейсов компании. Вдобавок к этому в Southwest все запасные части подходят к любому из самолетев. А это означает более низкие издержки и более простой в управлении бизнес. Они сами упростили себе жизнь.</p></blockquote>
<blockquote><p>Что бы быть на уровне, вам не нужно лучшее в мире оборудование. И что бы приступить к делу, вам оно точно не потребуеться.</p>
<p>Пользуйтесь тем, что уже имеете, или тем, что можете недорого достать.</p></blockquote>
<h2 id="u0414_u0435_u043B_u0430_u0439_u0442_u0435__u043F_u0440_u043E_u0434_u0443_u043A_u0442__u043F_u043E_u044D_u0442_u0430_u043F_u043D_u043E"><a href="#u0414_u0435_u043B_u0430_u0439_u0442_u0435__u043F_u0440_u043E_u0434_u0443_u043A_u0442__u043F_u043E_u044D_u0442_u0430_u043F_u043D_u043E" class="headerlink" title="Делайте продукт поэтапно"></a>Делайте продукт поэтапно</h2><p>Не нужно пытаться делать все одним махом. Необходимо написать список идей, которые вы хотите внедрить в свой продукт. И лучше если эти идеи немного полежат, так что бы на них можно было посмотреть “с высоты времени” и реально переоценить их ценность. Возможно некоторые окажуться вовсе не нужны.</p>
<p>Также не стоит забывать о том, что всегда начинать нужно с самого важного, или другими словами срочного. Воплощать идеи от смого необходимого к самому менее значимому.</p>
<p>Также если есть какие либо идеи, которые необходимы и которые можно выполнить очень быстро, не следует их откладывать, нужно выполнить их как можно быстрее.</p>
<blockquote><p>Вы можете быстро превратить набор прекрасных идей в один паршивый продукт, если будете пытаться реализовать их все сразу. Вы просто не можете сделать все, что хотите, сразу на хорошем уровне. У вас ограничено время, ресурсы и возможности концентрации. Очень сложно сделать на достойном уровне хотя бы одну вещь. А как насчет того, что бы классно сделать 10 вещей одновременно? Забудьте об этом.</p></blockquote>
<blockquote><p>Большинство ваших замечательных идей не будут казаться такими уж замечательными спустя некоторое время. А уж если они действительно настолько фантастические, вы всегда сможете реализовать их позже.</p></blockquote>
<blockquote><p>Не нужно говорить: “У этой задачи высокий приоритет, у этой - низкий”, не надо подсчитывать: “Это - три, это - два, это - один, это - опять три и т.д.”. Поступая таким образом, вы окажетесь завалены массой задач с высоким приоритетом.</p>
<p>Вместо этого отмечайте важность визуально. Расположите наиболее важные задачи сверху. Когда вы покончите с ними, переходите к следующему по важности списку. Таким образом, в каждый момент времени у вас будет только одно наиболее важное дело. И этого достаточно.</p></blockquote>
<h2 id="u0417_u0430_u0439_u043C_u0438_u0442_u0435_u0441_u044C__u0442_u0435_u043C__u0447_u0442_u043E__u043D_u0435__u0431_u0443_u0434_u0435_u0442__u043C_u0435_u043D_u044F_u0442_u044C_u0441_u044F"><a href="#u0417_u0430_u0439_u043C_u0438_u0442_u0435_u0441_u044C__u0442_u0435_u043C__u0447_u0442_u043E__u043D_u0435__u0431_u0443_u0434_u0435_u0442__u043C_u0435_u043D_u044F_u0442_u044C_u0441_u044F" class="headerlink" title="Займитесь тем что не будет меняться"></a>Займитесь тем что не будет меняться</h2><blockquote><p>Весь ваш бизнес должен строиться вокруг того, что останется неизменным. Того, что интересует людей прямо сейчас и будет интересовать их десять лет спустя. Вот в эти вещи и стоит инвестировать.</p></blockquote>
<blockquote><p>Мода проходит. Когда вы концентрируетесь на неизменых вещах, вы делаете ставку на то, что никогда не станет безвкусным.</p></blockquote>
<h2 id="u041F_u0435_u0440_u0435_u0440_u044B_u0432_u044B_-__u0432_u0440_u0430_u0433_u0438__u043F_u0440_u043E_u0434_u0443_u043A_u0442_u0438_u0432_u043D_u043E_u0441_u0442_u0438"><a href="#u041F_u0435_u0440_u0435_u0440_u044B_u0432_u044B_-__u0432_u0440_u0430_u0433_u0438__u043F_u0440_u043E_u0434_u0443_u043A_u0442_u0438_u0432_u043D_u043E_u0441_u0442_u0438" class="headerlink" title="Перерывы - враги продуктивности"></a>Перерывы - враги продуктивности</h2><p>Тут речь идет не о тех перерывах - которые используються для отдыха между работой, а о тех которые отвлекают от работы: телефон, совещание и пр.</p>
<blockquote><p>Вы наиболее продуктивны как раз в периоды, когда предоставлены сами себе. Когда вашему мозгу не нужно переключаться между разными задачами, вы способны переделать массу дел.</p>
<p>Рабочая “область уединения” готовит для вас настоящие чудеса продуктивности.</p></blockquote>
<blockquote><p>При взаимодействии с коллегами старайтесь использовать вместо орывающих от дел способов коммуникации (например, телефона или личных встреч) пассивные методы общения, не требующие от людей немедленного ответа (вроде электронной почты).</p>
<p>Помните: ваш день находится в осаде постоянных перерывов. Ваша задача - отвоевать его обратно!</p></blockquote>
<h2 id="u041D_u0435__u0438_u0449_u0438_u0442_u0435__u0442_u0440_u0443_u0434_u043D_u044B_u0445__u043F_u0443_u0442_u0435_u0439"><a href="#u041D_u0435__u0438_u0449_u0438_u0442_u0435__u0442_u0440_u0443_u0434_u043D_u044B_u0445__u043F_u0443_u0442_u0435_u0439" class="headerlink" title="Не ищите трудных путей"></a>Не ищите трудных путей</h2><blockquote><p>Не идите напролом! Ищите решение в стиле дзюдо, решение, которое будет наиболее эффективно при минимальном количестве затрат. Все “дзюдо-решения” сводятся к тому, чтобы, делая меньше, получать больше. Всякий раз, сталкиваясь с препятствием, ищите возможность преодолеть его с помощью принципа дзюдо.</p></blockquote>
<blockquote><p>Если вы находите свой способ решения задачи достаточно хорошим, останавливайтесь на нем. Это гораздо лучше, чем тратить ресурсы или, что хуже, ничего не делать из-за того, что вы не придумали более красивое решение. Помните: превратить “достаточно хороший” в “прекрасный” вы сможете и чуть позже.</p></blockquote>
<h2 id="u041D_u0430_u0439_u043C__u0441_u043E_u0442_u0440_u0443_u0434_u043D_u0438_u043A_u043E_u0432"><a href="#u041D_u0430_u0439_u043C__u0441_u043E_u0442_u0440_u0443_u0434_u043D_u0438_u043A_u043E_u0432" class="headerlink" title="Найм сотрудников"></a>Найм сотрудников</h2><blockquote><p>Резюме, зараз высланное сотням потенциальных работадателей, прдставляет собой не что иное, как еще одну форму спама. Их авторам важно получить место не именно в вашей компании - их заботит получение места хоть где-нибудь.</p></blockquote>
<blockquote><p>Разница между кандидатом с шестимесячным опытом работы и кандидатом с шестилетним стажем на удивление мала. Настоящие отличия - в самих людях, их склонностях, индивидуальных свойствах и умственных способностях.</p></blockquote>
<blockquote><p>Нанимайте великолепных писателей. Быть хорошим писателем значит больше, чем просто уметь писать. Умение ясно излагать свои мысли - это признак ясного ума. <strong>Отличные писатели умеют взаимодействовать с другими людьми. Они делают вещи более понятными.</strong></p></blockquote>
<blockquote><p>Берите сотрудников на тест-драйв. Интервью сами по себе не являются достаточной основой для принятия решения о найме. Некоторые люди “профессионально” ведут разговор, но работают, увы, не как профи. Вам необходимо оценить, какую работу они способны выполнять сейчас, а не ориентироваться на ту работу, которой, по их словам, они занимались ранее.</p>
<p>Лучший способ выяснить возможности потенциальных сотрудников - увидеть их непосредственно в процессе работы. Наймите их для выпонения мини-проекта, требующего всего 20 или 40 часов. Вы увидите, как они принимают решения, какого рода вопросы задают. Вы сможете судить о них по их поступкам, а не по словам, и поймете, сможете ли вы поладить.</p>
<p>Одно дело - знакомиться с чьим-то портфолио, резюме или общаться на собеседовании. Другое - реально поработать бок о бок с этим человеком.</p></blockquote>
<blockquote><p>Сотрудник мечты для многих компаний - это кто-то, чувствующий себя прекрасно, работая по 14 часов в сутки и засыпая под рабочим столом.</p>
<p>Дело не в количестве часов, проведенных за рабочем столом, а в продуктивности этих часов.</p></blockquote>
<h2 id="u041E_u0431_u0441_u043B_u0443_u0436_u0438_u0432_u0430_u043D_u0438_u0435__u043A_u043B_u0438_u0435_u043D_u0442_u043E_u0432"><a href="#u041E_u0431_u0441_u043B_u0443_u0436_u0438_u0432_u0430_u043D_u0438_u0435__u043A_u043B_u0438_u0435_u043D_u0442_u043E_u0432" class="headerlink" title="Обслуживание клиентов"></a>Обслуживание клиентов</h2><blockquote><p>Едва ли не самый важный элемент в обслужвании клиентов - наличие у них возможности быстро связаться с представителями компании. Удивительно, как часто только одно это может рассеять негативную ситуацию и направить ее в положительное русло.</p>
<p>Приходилось ли вам неделями ждать ответа на свое электронное письмо от какой-нибудь компании? Как вы себя при этом чуствовали? В наши дни людям приходиться постоянно находится в режиме ожидания и довольствоваться банальными словами о “заботе”, за которыми ничего не стоит.</p></blockquote>
<blockquote><p>Вспомните детскую игру в “испорченный телефон”. Тот же принцип действует и в компании. Чем длиннее цепочка посредников между клиентами и сотрудниками, выполняющими работу, тем более вероятно, что по пути сообщение клиентов будет искажено или утеряно.</p></blockquote>
<blockquote><p>Предоставление новой услуги, перемены в политике компании, отказ от чего-либо вызовут незамедлительую реакцию извне. Сопротивляйтесь стремлению запаниковать в ответ или начать быстро вносить новые изменения. Главное - суметь благополучно пережить первую, самую трудную неделю.</p>
<p>Люди привыкают с устоявшемуся положению вещей. Именно поэтому они так негативно реагируют на изменения, которые рушат привычный для них ход вещей. Но это не значит, что нужно их слушаться.</p></blockquote>
<h2 id="u041F_u0440_u043E_u0447_u0435_u0435"><a href="#u041F_u0440_u043E_u0447_u0435_u0435" class="headerlink" title="Прочее"></a>Прочее</h2><blockquote><p>Нет ничего зазорного в том, что бы быть экономным. Запуск первого продукта обошелся нам чертовски дешево. У нас небыло собственного офиса - мы делили его с другой компанией. Вместо кучи серверов имелся только один. Мы не рекламировались - мы продвигались, делясь своим опытом онлайн. Мы не нанимали специального сотрудника, что бы он отвечал на письма клиентов, - основатель компании занимался этим самостоятельно. И все работало просто отлично.</p></blockquote>
<blockquote><p>Любой, кто применяет к бизнесу точку зрения “мы придумаем, как стать прибыльными в будущем”, смешон. <strong>Без четкого понимания того, как стать прибыльным, бизнес не являеться бизнесом - это не больше чем хобби!</strong></p></blockquote>
<blockquote><p>Если вы планируете создать “убийцу iPod” или “следующего Покемона”, вы уже мертвы. Вы позволяете конкурентам задавать параметры. Вы не сможете превзойти Apple на их поле. нельзя обыграть тех, кто устанавливает правила игры. Вам нужно изменить правила, а не просто немного улучшить продукт.</p></blockquote>
<blockquote><p>Вы редко жалеете, что сказали нет, тогда как положительные ответы часто заканчиваются сожалением.</p></blockquote>]]></content>
    <summary type="html">
    <![CDATA[<p>
<img src="/050416-rework-cover.jpg" alt="Книги - Rework: Бизнес без предрассудков (Джейсон Фрайд, Дэвид Хейнмейер Ханссон)" align="left" style="margin-right: 10px">
Книга от создателей компании <a href="https://ru.wikipedia.org/wiki/37signals" target="_blank">37signals</a>. О том как правильно создавать и управлять компанией. Авторы предлагают отказаться от стандартных практик в этом деле и предлагают свои неординарные подходы.
</p>]]>
    
    </summary>
    
      <category term="Books" scheme="http://atoumus.github.io/categories/Books/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[PHP - Управление cron'ом с помощью cron_manager.sh]]></title>
    <link href="http://atoumus.github.io/php-manage-cron-sh.html"/>
    <id>http://atoumus.github.io/php-manage-cron-sh.html</id>
    <published>2016-04-02T03:47:02.000Z</published>
    <updated>2016-04-02T04:45:11.152Z</updated>
    <content type="html"><![CDATA[<p>В каждом PHP проекте есть скрипты которые нужно запускать по крону. Когда таких скриптов становиться много, то возникает необходимость их хранить в каком-то конфиге проекта. А если еще и нет root доступа к серверу, то каждый раз дергать админа что бы он поставил какой то скрипт на крон, совсем не удобно. В этой статье пойдет речь о том, как управлять cron задачами в проекте, не имея root прав, с помощью скрипта <a href="https://github.com/atoumus/cron_manager.sh" target="_blank" rel="external">cron_manager.sh</a>.</p>
<a id="more"></a>
<p>Скрипт <a href="https://github.com/atoumus/cron_manager.sh" target="_blank" rel="external">cron_manager.sh</a> представляет собой удобный инструмент, который может считывать конфиги cron задач лежащие в папке проекта, и на их осное добавлять/изменять/удалять cron задачи в ОС сервера. Для этого скрипта не требуются root права. Cron задачи сохраняются в cron файл, который принадлежит текущему linux пользователю.</p>
<p>Скрипт <strong>cron_manager.sh не привязан конкретно к PHP</strong>, он может управлять задачами cron и в любых других проектах. Мы же рассмотрим пример именно с PHP для наглядности.</p>
<p>Скрипт имеет две команды:</p>
<ul>
<li>update - для добавления/изменения/удаления cron задач на основе вашего конфига;</li>
<li>clear - для удаления всех cron задач вашего проекта.</li>
</ul>
<p>Данный скрипт удобно использовать совместно с какой либо из систем CI, например Jenkins. Т.к. можно в скрипт сборки проекта написать команду, которая будет автоматически запускать cron_manager.sh.</p>
<h2 id="u0423_u0441_u0442_u0430_u043D_u0430_u0432_u043B_u0438_u0432_u0430_u0435_u043C_cron_manager-sh__u0432__u041E_u0421_Linux"><a href="#u0423_u0441_u0442_u0430_u043D_u0430_u0432_u043B_u0438_u0432_u0430_u0435_u043C_cron_manager-sh__u0432__u041E_u0421_Linux" class="headerlink" title="Устанавливаем cron_manager.sh в ОС Linux"></a>Устанавливаем cron_manager.sh в ОС Linux</h2><p>Удобней всего будет установить cron_manager.sh глобально в Linux, для этого выполняем следующие команды:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo su</span><br><span class="line"><span class="comment"># cd /usr/local/bin/</span></span><br><span class="line"><span class="comment"># wget -O cron_manager https://raw.githubusercontent.com/atoumus/cron_manager.sh/master/cron_manager.sh</span></span><br><span class="line"><span class="comment"># chmod a+x cron_manager</span></span><br></pre></td></tr></table></figure>
<p>После этих действий его можно будет просто запускать командой <code>$ cron_mananger</code>. </p>
<h2 id="u0421_u043E_u0437_u0434_u0430_u0435_u043C__u043A_u043E_u043D_u0444_u0438_u0433__u0444_u0430_u0439_u043B"><a href="#u0421_u043E_u0437_u0434_u0430_u0435_u043C__u043A_u043E_u043D_u0444_u0438_u0433__u0444_u0430_u0439_u043B" class="headerlink" title="Создаем конфиг файл"></a>Создаем конфиг файл</h2><p>Прежде всего необходимо положить в проект конфиг файл, в котором будет храниться список cron задач. Название этого файла может быть каким угодно, расположение также не имеет значения. Формат записи cron задач в этом файле точно такой же как если бы вы добавляли задачи cron вручную. Пример содержания такого файла:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* * * * * /var/www/site.com/<span class="built_in">test</span>1.php</span><br><span class="line"></span><br><span class="line"><span class="comment"># Some comment</span></span><br><span class="line">* * * * * /var/www/site.com/<span class="built_in">test</span>2.php</span><br></pre></td></tr></table></figure>
<p>Т.е. ничего особенного, просто cron задачи в обычном формате. Также в конфиг файле могут содержаться комментарии которые должны начинаться с символа <code>#</code>, они не будут добавлены в системный cron.</p>
<h2 id="u041A_u043E_u043C_u0430_u043D_u0434_u0430_update"><a href="#u041A_u043E_u043C_u0430_u043D_u0434_u0430_update" class="headerlink" title="Команда update"></a>Команда update</h2><p>После того как конфиг создан, можно начинать использовать скрипт cron_manager.sh для добавления задач в cron.</p>
<p>У скрипта cron_manager.sh есть одна важная особенность. Текущий каталог воспринимаеться как корневой каталог проекта. Поэтому <strong>обязательно необходимо перейти в корневой каталог проекта</strong>.</p>
<p>Далее, из корневого каталога проекта, необходимо запустить команду update:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cron_manager update ./crontab</span><br></pre></td></tr></table></figure>
<p>В выше приведенном примете <code>./crontab</code> и являеться конфигом со списком cron задач, который лежит в вашем проекте. Этот конфиг файл может находиться и в каком либо подкаталоге, необязательно в корне проекта.</p>
<p>При выполнении команды <code>update</code> скрипт cron_manager.sh отобразит подробную инфо о том какие задачи были добавлены.</p>
<p>Если в конфиге <code>./crontab</code> сделать какие либо изменеия и повторно запустить команду <code>update</code>, то сделанные изменения также применяться в системном cron’е.</p>
<p>Так что все что нужно для управления cron задачами в проекте, это вносить их в конфиг файл и запускать команду <code>update</code> скрипта cron_manager.sh.</p>
<h2 id="u041A_u043E_u043C_u0430_u043D_u0434_u0430_clear"><a href="#u041A_u043E_u043C_u0430_u043D_u0434_u0430_clear" class="headerlink" title="Команда clear"></a>Команда clear</h2><p>Данная команда позволяет очистить все cron задачи текущего проекта из системного cron’а. Это удобно например тогда, когда проект переносят в другое место на сервере, или вообще на другой сервер, и нужно из системного cron’а удалить все задачи которые относяться к проекту.</p>
<p>Прежде всего <strong>переходим в корневую папку проекта</strong>. После этого запускаем команду <code>clear</code>, при этом конфиг cron задач проекта указывать уже не нужно:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cron_manager clear</span><br></pre></td></tr></table></figure>
<p>При выполнении этой команды скрипт cron_manager.sh также выдаст подробную инфу о том какие именно задачи были удалены из системного cron’а. </p>]]></content>
    <summary type="html">
    <![CDATA[<p>В каждом PHP проекте есть скрипты которые нужно запускать по крону. Когда таких скриптов становиться много, то возникает необходимость их хранить в каком-то конфиге проекта. А если еще и нет root доступа к серверу, то каждый раз дергать админа что бы он поставил какой то скрипт на крон, совсем не удобно. В этой статье пойдет речь о том, как управлять cron задачами в проекте, не имея root прав, с помощью скрипта <a href="https://github.com/atoumus/cron_manager.sh">cron_manager.sh</a>.</p>]]>
    
    </summary>
    
      <category term="PHP" scheme="http://atoumus.github.io/categories/PHP/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Книги - Искусство думать (Эдвард де Боно)]]></title>
    <link href="http://atoumus.github.io/art-of-mind.html"/>
    <id>http://atoumus.github.io/art-of-mind.html</id>
    <published>2016-03-16T12:49:41.000Z</published>
    <updated>2016-03-17T05:15:50.935Z</updated>
    <content type="html"><![CDATA[<p>
<img src="/2016-03-16-book-cover.jpg" alt="Книги - Искусство думать (Эдвард де Боно)" align="left" style="margin-right: 10px">
Книга о том, как находить выход в казалось бы безвыходных ситуациях. О том как развить неординарное мышление. В этой статье дается обзор, оценка и некоторые цитаты из книги.
</p>

<a id="more"></a>
<p>В целом основную мысль книги можно сформулировать так: Не нужно зацикливаться на чем то одном, нужно стараться смотреть на ситуацию под разными углами.</p>
<p>Также на задней обложки написана такая “основная” цитата из книги:</p>
<blockquote><p>У каждого есть право подвергать сомнению все что угодно, причем столько раз, сколько ему заблагорассудится, но сделать это хотя бы один раз он просто обязан. Никакая точка зрения на положение вещей не может считаться священной, недоступной пересмотру. Нет такого образа действий, который нельзя было бы улучшить. Должна быть возможность взглянуть иначе даже на колесо, чтобы оценить заново его эффективность.</p></blockquote>
<p>Неординарное мышление в этой книги называется “латеральным” или “горизонтальным”. А обычное логическое - “вертикальным”.</p>
<h2 id="u0412_u0440_u0435_u043C_u0435_u043D_u043D_u043E__u043E_u0442_u043A_u0430_u0437_u0430_u0442_u044C_u0441_u044F__u043E_u0442__u043F_u0440_u043E_u0448_u043B_u043E_u0433_u043E__u043E_u043F_u044B_u0442_u0430"><a href="#u0412_u0440_u0435_u043C_u0435_u043D_u043D_u043E__u043E_u0442_u043A_u0430_u0437_u0430_u0442_u044C_u0441_u044F__u043E_u0442__u043F_u0440_u043E_u0448_u043B_u043E_u0433_u043E__u043E_u043F_u044B_u0442_u0430" class="headerlink" title="Временно отказаться от прошлого опыта"></a>Временно отказаться от прошлого опыта</h2><p>Одним из способов, как именно можно посмотреть на ситуацию под другой точкой зрения, приводиться следующий прием. Допустим есть какая ли бо задача или проблема, решение которой на первый, логичный взгял казалось бы невозможно. Автор этой книги предлагает в такой ситуации на время отказаться от логического решения задачи, и попробовать безо всякой логики, произвольно проверить те или иные решения, даже если они кажуться совсем не логичными. Возможно в этом сулчае и удасться наткнуться на решение, первоначально вовсе не очевидное но которое впоследствии приведет к решению.</p>
<p>В книге говорится о том, что человек решая какую либу задачу всегда опирается на предыдущий опыт, и ищет в любой ситуации что то знакомое, сопоставляет с прошлым опытом. Автор не предлагает вовсе отказаться от логического способа решения задач. Но как в дополнение, иногда взглянуть на ситуацию не опираясь на предыдущий опыт - полезно.</p>
<blockquote><p>Человек делает логические выводы опираясь на прошлый опыт. В них могут быть учтены лишь те факторы, о которых уже известно тому кто строит умозаключения: логика может оперировать только фактами, которые ей доступны. Та мысленная модель мира, в которой проходит проверку новая идея, обязательно будет неполной, поскольку неполным является опыт, который лежит в ее основе.</p></blockquote>
<blockquote><p>Невозможно рассмотреть что бы то ни было в другой стороне, продолжая пристальнее вглядываться в прежнем направлении. Две мысли проще всего увязываются друг с другом, когда у них есть общее направление, а тогда уже легче продолжить нанизывать последующие мысли друг на друга в прежнем направлении, нежели пренебречь ими. Отказаться от старого - сложная задача, особенно когда замена еще не появилась.</p></blockquote>
<blockquote><p>Чаще опасность заключается не в чрезмерной осведомленности о какой-то идее, а в том, что мы упускаем из виду другие ракурсы ситуации, заслоненные  господствующей идеей.</p></blockquote> 
<blockquote><p>Незнакомые ситуации всегда раскладываются на знакомые элементы. Рассматривая такой набор элементов как верное разложение ситуации на составные части, мы тем самым перекрываем путь к лучшему объяснению, для которого могут понадобиться элементы не столь привычные.</p></blockquote> 
<h2 id="u0412_u0438_u0437_u0443_u0430_u043B_u044C_u043D_u043E_u0435__u043C_u044B_u0448_u043B_u0435_u043D_u0438_u0435"><a href="#u0412_u0438_u0437_u0443_u0430_u043B_u044C_u043D_u043E_u0435__u043C_u044B_u0448_u043B_u0435_u043D_u0438_u0435" class="headerlink" title="Визуальное мышление"></a>Визуальное мышление</h2><p>Визуальное мышление также предлагается как один из способов рассмотреть ситуацию под другим углом. Иногда оно действительно более действенно чем логическое мышление, но его можно применять не всегда, т.к. не все можно представить визуально.</p>
<blockquote><p>Один из способов избежать жесткости слов заключается в том, что бы мыслить наглядными образами, не пользуясь словами вообще. Человек вполне способен связно мыслить, опираясь на образы. Трудности возникают лишь тогда, когда полученный результат нужно изложить словами. К сожалению, не многие способны уверенно пользоваться визуальным мышлением и не все ситуации могут быть проанализированы посредством зрительных образов. Тем не менее привычку к визуальному мышлению приобрести стоит, ибо зрительные образы обладают подвижностью и пластичностью, чего не скажеш о словах.</p></blockquote>
<h2 id="u041D_u0435_u043C_u043D_u043E_u0433_u043E__u043E_u0442_u0432_u043B_u0435_u0447_u044C_u0441_u044F"><a href="#u041D_u0435_u043C_u043D_u043E_u0433_u043E__u043E_u0442_u0432_u043B_u0435_u0447_u044C_u0441_u044F" class="headerlink" title="Немного отвлечься"></a>Немного отвлечься</h2><p>Иногда полезно отвлечься на некоторое время от основной здачи на что то другое совсем не связанное с этой основной задачей. И после прошествия некоторого времени снова вернуться к решению основной задачи и посмореть на нее свежим взглядом.</p>
<blockquote><p>Хорошо известный способ как-то смягчить совершенную бесплодность сосредоточенного внимания - переодически переключаться на вопросы, которые никак не связаны с основной задачей. Однако гораздо более действенный метод - в ходе исследования задачи позволить внешним воздействиям беспрепятственно проникать в сознание и расшатывать жесткие рамки, задающие взгляд на ситуацию.</p></blockquote> 
<h2 id="u0411_u044B_u0442_u044C__u043D_u0435_u043F_u0440_u0435_u0434_u0441_u043A_u0430_u0437_u0443_u0435_u043C_u044B_u043C"><a href="#u0411_u044B_u0442_u044C__u043D_u0435_u043F_u0440_u0435_u0434_u0441_u043A_u0430_u0437_u0443_u0435_u043C_u044B_u043C" class="headerlink" title="Быть непредсказуемым"></a>Быть непредсказуемым</h2><p>В борьбе, какого бы рода она не была, полезно поступать так, что бы противник не смог предугадать ваших дальнейших действий. Таким образом он не сможет заранее продумать ответное действие, или просто будет введен в заблуждение.</p>
<blockquote><p>Новые идеи - это позитивная сторона латерального мышления, но те, кто никогда не применяет латеральное мышление, не только лишаються этой позитивной стороны, но и ставят себя в уязвимое положение. Их уязвимость заключается в том, что их мысли предсказуемо следуют по пути высокой вероятности, а значит, их ничего не стоит обвести вокруг пальца.</p></blockquote>
<blockquote><p>Мошенники, торговцы, политиканы и професиональные переговорщики всех мастей остались бы не у дел, если бы вертикальное мышление не было для человеческого разума естественнее латерального. Их успех определяется тем, насколько умело они направляют других по высоковероятностному пути мышления в соответствии со своими намерениями.</p></blockquote>
<h2 id="u041B_u044E_u0434_u0438__u0433_u0435_u043D_u0435_u0440_u0430_u0442_u043E_u0440_u044B__u0438_u0434_u0435_u0439"><a href="#u041B_u044E_u0434_u0438__u0433_u0435_u043D_u0435_u0440_u0430_u0442_u043E_u0440_u044B__u0438_u0434_u0435_u0439" class="headerlink" title="Люди генераторы идей"></a>Люди генераторы идей</h2><p>У некоторых людей от рождения развита способность к применению латерального мышления, несколько цитат о таких генераторах идей:</p>
<blockquote><p>Носители идей обычно являються слабыми организаторами: у них столько новых идей, что свежая идея поглощает их внимание прежде, чем они организуют реализацию предыдущей. Целеустремленность, решимоть и напор несвойственны поставщикам идей, ибо они больше заняты выработкой новых идей, нежели доведением до ума прежних.</p></blockquote>
<blockquote><p>Человек, с энтузиазмом развивающий собственные идеи, менее склонен к проработке чужих.</p></blockquote>
<h2 id="u0414_u0440_u0443_u0433_u0438_u0435__u0438_u043D_u0442_u0435_u0440_u0435_u0441_u043D_u044B_u0435__u0446_u0438_u0442_u0430_u0442_u044B__u0438_u0437__u043A_u043D_u0438_u0433_u0438"><a href="#u0414_u0440_u0443_u0433_u0438_u0435__u0438_u043D_u0442_u0435_u0440_u0435_u0441_u043D_u044B_u0435__u0446_u0438_u0442_u0430_u0442_u044B__u0438_u0437__u043A_u043D_u0438_u0433_u0438" class="headerlink" title="Другие интересные цитаты из книги"></a>Другие интересные цитаты из книги</h2><blockquote><p>Основная опасность использования гипотезы, которая явно не в полной мере соответствует действительности, заключается в том, что она может восприпятствовать появлению лучшей гипотезы.</p></blockquote>
<blockquote><p>Очень полезный прием, позволяющий избежать заданного деления задачи на части, состоит в делении этих частей на еще более мелкие части с последующим составлением новых, более крупных блоков.</p></blockquote>
<blockquote><p>Иногда какая-то ситуация выглядит проблемой только потому, что на нее смотрят под определенным углом зрения. Если изменить ракурс, решение может оказаться столь явным, что проблема отпадет сама собой.</p></blockquote>
<h2 id="u0417_u0430_u043A_u043B_u044E_u0447_u0435_u043D_u0438_u0435"><a href="#u0417_u0430_u043A_u043B_u044E_u0447_u0435_u043D_u0438_u0435" class="headerlink" title="Заключение"></a>Заключение</h2><p>Если хорошо обдумать эту книгу, то можно взять из нее не мало полезного. Но к сожалению и воды в ней тоже много. В книге всего около 150 страниц, но читается тяжеловато. Моя оценка: 3/5, можно было бы дать и больше если не была сильно нудная :)</p>]]></content>
    <summary type="html">
    <![CDATA[<p>
<img src="/2016-03-16-book-cover.jpg" alt="Книги - Искусство думать (Эдвард де Боно)" align="left" style="margin-right: 10px">
Книга о том, как находить выход в казалось бы безвыходных ситуациях. О том как развить неординарное мышление. В этой статье дается обзор, оценка и некоторые цитаты из книги.
</p>]]>
    
    </summary>
    
      <category term="Books" scheme="http://atoumus.github.io/categories/Books/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[PHP - получаем гео-инфо пользователя по IP]]></title>
    <link href="http://atoumus.github.io/php-detect-country-by-ip.html"/>
    <id>http://atoumus.github.io/php-detect-country-by-ip.html</id>
    <published>2016-02-16T05:54:02.000Z</published>
    <updated>2016-03-16T10:26:02.000Z</updated>
    <content type="html"><![CDATA[<p>В продолжение темы про IP, в этой статье будут рассмотрены способы определения страны, города и другой гео-ино о пользователе по его IP.</p>
<a id="more"></a>
<h2 id="GeoIP__u0432__u0432_u0438_u0434_u0435_PHP__u0440_u0430_u0441_u0448_u0438_u0440_u0435_u043D_u0438_u044F"><a href="#GeoIP__u0432__u0432_u0438_u0434_u0435_PHP__u0440_u0430_u0441_u0448_u0438_u0440_u0435_u043D_u0438_u044F" class="headerlink" title="GeoIP в виде PHP расширения"></a>GeoIP в виде PHP расширения</h2><p>Навреное самая часто используемая библиотека для определения IP (<a href="http://php.net/manual/ru/book.geoip.php" target="_blank" rel="external">оф. док на php.net</a>). Оно и не мудрено, ведь бинарная БД + скомпилированное PHP расширение работают быстрее всех остальных способов.</p>
<p>Установка на Ubuntu Server:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install php5-geoip</span><br></pre></td></tr></table></figure>
<p>После установки скачиваем последние обновления базы IP адресов:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo wget -N http://geolite.maxmind.com/download/geoip/database/GeoLiteCountry/GeoIP.dat.gz</span><br><span class="line">sudo gunzip GeoIP.dat.gz</span><br><span class="line">sudo mv GeoIP.dat /usr/share/GeoIP/</span><br></pre></td></tr></table></figure>
<p>После этих действий необходимо перезагрузить PHP. Это нужно для того что бы PHP интерпретатор подгрузил только что установленное расширение (php5-geoip) и новые базы IP адресов.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo service php5-fpm restart <span class="comment"># если вы используете NGINX</span></span><br><span class="line"><span class="comment"># или</span></span><br><span class="line">sudo service apache2 restart <span class="comment"># если вы используете Apache</span></span><br></pre></td></tr></table></figure>
<p>Также переодически необходимо обновлять базы IP адресов:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo wget -N http://geolite.maxmind.com/download/geoip/database/GeoLiteCountry/GeoIP.dat.gz</span><br><span class="line">sudo gunzip GeoIP.dat.gz</span><br><span class="line">sudo mv GeoIP.dat /usr/share/GeoIP/</span><br></pre></td></tr></table></figure>
<p>После обновления так же необходимо перезагружать PHP для примененеия обновленной базы IP адресов:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo service php5-fpm restart <span class="comment"># если вы используете NGINX</span></span><br><span class="line"><span class="comment"># или</span></span><br><span class="line">sudo service apache2 restart <span class="comment"># если вы используете Apache</span></span><br></pre></td></tr></table></figure>
<p>После того как GeoIP установлен, его можно использовать в коде, например так:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">&lt;?php</span></span><br><span class="line"><span class="variable">$countryCode</span> = geoip_country_code_by_name(<span class="variable">$_SERVER</span>[<span class="string">'REMOTE_ADDR'</span>]);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$countryCode</span>;</span><br></pre></td></tr></table></figure>
<h2 id="GeoIP__u0432__u0432_u0438_u0434_u0435_composer__u043F_u0430_u043A_u0435_u0442_u0430"><a href="#GeoIP__u0432__u0432_u0438_u0434_u0435_composer__u043F_u0430_u043A_u0435_u0442_u0430" class="headerlink" title="GeoIP в виде composer пакета"></a>GeoIP в виде composer пакета</h2><p>Этот способ, почти идентичен с GeoIP в виде расширения для PHP, за одним исключением: вам не нужно устанавливать на сервер дополнительные расширения.</p>
<p>Полезно это в том случае, если у вас нет root прав к серверу и вы не можете устанавливать PHP расширения.</p>
<p>Недостаток этого способа в том что он работает немного медленнее в сравнении со скомпилированным PHP расширением.</p>
<p>Подробную инструкцию можно почитать на <a href="https://maxmind.github.io/GeoIP2-php/" target="_blank" rel="external">офф. сайте</a>, я лиш расскажу вкратце.</p>
<p>Первым делом необходимо скачать БД IP адресов в специальном формате (.mmdb) с <a href="http://dev.maxmind.com/geoip/geoip2/geolite2/" target="_blank" rel="external">офф. сата</a>, и поместить его в любую папку на сервере которая вам доступна:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -N http://geolite.maxmind.com/download/geoip/database/GeoLite2-Country.mmdb.gz</span><br><span class="line">gunzip GeoLite2-Country.mmdb.gz</span><br><span class="line">mv GeoLite2-Country.mmdb /my-site/data/GeoIP/</span><br></pre></td></tr></table></figure>
<p>Далее установить через composer офф. пакет geoip:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require geoip2/geoip2:~<span class="number">2.0</span></span><br></pre></td></tr></table></figure>
<p>После этих двух несложных действий, можно начинать его использовать в своих PHP скриптах, пример:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">require</span> <span class="string">'vendor/autoload.php'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">GeoIp2</span>\<span class="title">Database</span>\<span class="title">Reader</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$reader</span> = <span class="keyword">new</span> Reader(<span class="string">'/my-site/data/GeoIP/GeoLite2-Country.mmdb'</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$geo</span> = <span class="variable">$reader</span>-&gt;country(<span class="variable">$_SERVER</span>[<span class="string">'REMOTE_ADDR'</span>]);</span><br><span class="line">var_dump(<span class="variable">$geo</span>-&gt;country-&gt;isoCode);</span><br><span class="line">var_dump(<span class="variable">$geo</span>-&gt;country-&gt;name);</span><br></pre></td></tr></table></figure>
<h2 id="Sypex_Geo"><a href="#Sypex_Geo" class="headerlink" title="Sypex Geo"></a>Sypex Geo</h2><p>Офф. сайт: <a href="https://sypexgeo.net/ru/" target="_blank" rel="external">https://sypexgeo.net/ru/</a></p>
<p>Также поставляется в виде PHP класса и бинарной библиотеки. К сожалению офф. composer пакета у нее нет. Но можно воспользоваться и не офф: <a href="https://packagist.org/packages/igi/sypexgeo" target="_blank" rel="external">https://packagist.org/packages/igi/sypexgeo</a></p>
<p>Этот composer пакет хорош еще тем, что позволяет при выполнеии команды “composer install” обновлять БД IP адресов.</p>
<p>Для того что бы установить этот композер пакет и настроить автообновление БД IP адресов, нужно в файле composer.json прописать следующие настройки:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    "<span class="attribute">require-dev</span>": <span class="value">&#123;</span><br><span class="line">        "<span class="attribute">igi/sypexgeo</span>": <span class="value"><span class="string">"@dev"</span></span><br><span class="line">    </span>&#125;</span>,</span><br><span class="line">    "<span class="attribute">scripts</span>": <span class="value">&#123;</span><br><span class="line">        "<span class="attribute">post-install-cmd</span>": <span class="value">[</span><br><span class="line">            <span class="string">"IgI\\SypexGeo\\Composer::installDatabases"</span></span><br><span class="line">        ]</span><br><span class="line">    </span>&#125;</span>,</span><br><span class="line">    "<span class="attribute">extra</span>": <span class="value">&#123;</span><br><span class="line">        "<span class="attribute">sypexgeo_remote</span>": <span class="value"><span class="string">"https://sypexgeo.net/files/SxGeoCountry.zip"</span></span>,</span><br><span class="line">        "<span class="attribute">sypexgeo_local</span>": <span class="value"><span class="string">"/var/www/at0m1x.dev/test/data/SxGeo.dat"</span></span><br><span class="line">    </span>&#125;</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>Обратите внимание на следующие настройки:</p>
<ul>
<li>подключение пакета необходимо располагать в секции require-dev</li>
<li>при подключении пакета необходимо указывать уровень стабильности @dev</li>
<li>в секции sypexgeo_remote вместо SxGeoCountry.zip можно указать SxGeoCity_utf8.zip</li>
<li>в параметре sypexgeo_local вам необходимо указать свой путь к папке</li>
</ul>
<p>Далее выполняем установку composer пакетов:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer install</span><br></pre></td></tr></table></figure>
<p>После установки самой библиотеки, обновится и БД IP адресов с офф. сайта.</p>
<p>Пример использования в PHP коде:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">require</span> <span class="string">'vendor/autoload.php'</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$sxGeo</span> = <span class="keyword">new</span> \IgI\SypexGeo\SxGeo(<span class="keyword">__DIR__</span> . <span class="string">'/data/SxGeo.dat'</span>);</span><br><span class="line">var_dump(<span class="variable">$sxGeo</span>-&gt;getCountry(<span class="string">'89.163.220.14'</span>));</span><br></pre></td></tr></table></figure>
<p>Кроме использования composer пакета, также можно использовать REST API этого проекта, пример: <a href="http://api.sypexgeo.net/json/89.163.220.14" target="_blank" rel="external">http://api.sypexgeo.net/json/89.163.220.14</a> Об онлайн сервисах для определения гео инфы читайте ниже в этой статье. </p>
<h2 id="IP2LOCATION"><a href="#IP2LOCATION" class="headerlink" title="IP2LOCATION"></a>IP2LOCATION</h2><p>Офф. сайт: <a href="http://www.ip2location.com/" target="_blank" rel="external">http://www.ip2location.com/</a></p>
<p>Еще одна composer библиотека из-за рубежа.</p>
<p>Установка:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require ip2location/ip2location-php</span><br></pre></td></tr></table></figure>
<p>При установки этого composer пакета, и также при его обновлении, также будет обновлятся БД IP адресов, которая находится по такому пути:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/vendor/ip2location/ip2location-php/databases/IP2LOCATION-LITE-DB1.BIN</span><br></pre></td></tr></table></figure></p>
<p>Использование:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">require</span> <span class="string">'vendor/autoload.php'</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$db</span> = <span class="keyword">new</span> \IP2Location\Database(</span><br><span class="line">    <span class="keyword">__DIR__</span> . <span class="string">'/vendor/ip2location/ip2location-php/databases/IP2LOCATION-LITE-DB1.BIN'</span>,</span><br><span class="line">    \IP2Location\Database::FILE_IO</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="variable">$records</span> = <span class="variable">$db</span>-&gt;lookup(<span class="string">'89.163.220.14'</span>, \IP2Location\Database::ALL);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;pre&gt;'</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'IP Number             : '</span> . <span class="variable">$records</span>[<span class="string">'ipNumber'</span>] . <span class="string">"\n"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'IP Version            : '</span> . <span class="variable">$records</span>[<span class="string">'ipVersion'</span>] . <span class="string">"\n"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'IP Address            : '</span> . <span class="variable">$records</span>[<span class="string">'ipAddress'</span>] . <span class="string">"\n"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'Country Code          : '</span> . <span class="variable">$records</span>[<span class="string">'countryCode'</span>] . <span class="string">"\n"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'Country Name          : '</span> . <span class="variable">$records</span>[<span class="string">'countryName'</span>] . <span class="string">"\n"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;/pre&gt;'</span>;</span><br></pre></td></tr></table></figure>
<h2 id="TabGeo"><a href="#TabGeo" class="headerlink" title="TabGeo"></a>TabGeo</h2><p>Офф. сайт: <a href="http://tabgeo.com/ru/index/" target="_blank" rel="external">http://tabgeo.com/ru/index/</a></p>
<p>Появился сравнительно не давно, первая версия composer пакета была опубликована 27 сентября 2015.</p>
<p>Позиционирует себя как самый быстрый, по сравнению с такими конкурентами как: GeoIP и Sypex Geo. Но скорость достигается засчет малого размера базы, в следствии чего эта библиотека определяет только код страны.</p>
<p>Распространяется в виде composer пакета + бинарная БД в своем собственном формате.</p>
<p>Для установки этой библиотеки нужно всего лиш подключить композер пакет:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require tabgeo/country</span><br></pre></td></tr></table></figure>
<p>При этом установится как PHP библиотека так и сама БД:</p>

<p><img src="/270216-tabgeo.png" alt="PHP - получаем гео-инфо пользователя по IP"></p>

<p>Пример использования в PHP скрипте:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">require</span> <span class="string">'vendor/autoload.php'</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$country</span> = TabGeo\country(<span class="string">'89.163.220.14'</span>);</span><br><span class="line">var_dump(<span class="variable">$country</span>);</span><br></pre></td></tr></table></figure>
<p>Стоит заметить, что TabGeo позволяет получить только двузначный код страны в формате <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2" target="_blank" rel="external">ISO 3166-1 alpha-2</a>. Если вам нужно что то большее, например определить регион, город, временную зону, или пр., то нужно использовать например тот же GeoIP, т.к. он позволяет все это определить.</p>
<h2 id="u041E_u043D_u043B_u0430_u0439_u043D__u0441_u0435_u0440_u0432_u0438_u0441_u044B__u0434_u043B_u044F__u0433_u0435_u043E_u0442_u0430_u0440_u0433_u0435_u0442_u0438_u043D_u0433_u0430"><a href="#u041E_u043D_u043B_u0430_u0439_u043D__u0441_u0435_u0440_u0432_u0438_u0441_u044B__u0434_u043B_u044F__u0433_u0435_u043E_u0442_u0430_u0440_u0433_u0435_u0442_u0438_u043D_u0433_u0430" class="headerlink" title="Онлайн сервисы для геотаргетинга"></a>Онлайн сервисы для геотаргетинга</h2><p>В качестве альтернативы можно использовать специальные онлайн сервисы. Принцип их работы прост: передаем GET параметром IP и в ответ получаем гео-инфу в формате JSON или XML.</p>
<p>Преимущество этого способы в том, что его можно использовать не только на стороне PHP, но и на стороне например JavaScript.</p>
<p>Но есть и существенные недостатки:</p>
<ul>
<li>работает это не так быстро как PHP библиотека;</li>
<li>вы не можете обновить БД IP адресов;</li>
<li>ваш сервер могут заблокировать за частые обращения.</li>
</ul>
<p>Вот несколько таких онлайн сервисов:</p>
<ul>
<li><a href="http://ipgeobase.ru:7020/geo?ip=89.163.220.14" target="_blank" rel="external">ipgeobase.ru</a></li>
<li><a href="http://www.geoplugin.net/json.gp?ip=89.163.220.14" target="_blank" rel="external">geoplugin.net</a></li>
<li><a href="http://api.sypexgeo.net/json/89.163.220.14" target="_blank" rel="external">sypexgeo.net</a>
</li>
</ul>
<h2 id="u0417_u0430_u043A_u043B_u044E_u0447_u0435_u043D_u0438_u0435"><a href="#u0417_u0430_u043A_u043B_u044E_u0447_u0435_u043D_u0438_u0435" class="headerlink" title="Заключение"></a>Заключение</h2><p>Почти все вышеперечисленные библиотеки предоставляют два вида баз данных IP адресов:</p>
<ul>
<li>облегченный, только со списком стран, как правило в названии содержит Country;</li>
<li>более полный, в котором кроме стран также содержится инфо о крупных городах, как правило в названии содержит City и больше весит;</li>
</ul>
<p>Более полная БД IP адресов с городами конечно будет работать немного медленнее в силу того что она больше по объему.</p>
<p>Наиболее правильно использовать GeoIP в виде PHP расширения. Т.к. работать он будет всегда и быстро. Также вы всегда можете обновить базы IP адресов.</p>
<p>Если нет возможности установить GeoIP в виде PHP расширения, то можно использовать один из composer пакетов: GeoIP, Sypex Geo, IP2LOCATION или TabGeo.</p>
<p>Если же использование composer пакета по какой-то причине не возможно, тогда остается использовать онлайн сервисы. Но обязательно нужно сделать кеширование запросов на эти сервисы в свою БД. Кеширование нужно для того что бы не отправлять один и тот же запрос по много раз. Достаточно один раз получить гео-инфу по интересующему ИП через онлайн сервис, после чего сохранить ее к себе в БД, и далее брать уже из БД. Таким образом вы уменьшите кол-во запросов на онлайн сервис и уменьшите вероятность того что онлайн сервис вас заблокирует за множественные запросы.</p>
<p>Стоит заметить, что почти у всех вышеперечисленных библиотек есть бесплатные и платные версии. В платных версиях вам будет доступно больше гео инфы чем в бесплатных.</p>
<p>Так же вы можете почитать о том, <a href="/test-site-by-other-country-ip.html" title="как проверить сайт под IP другой страны через прокси сервер">как проверить сайт под IP другой страны через прокси сервер</a>.</p>]]></content>
    <summary type="html">
    <![CDATA[<p>В продолжение темы про IP, в этой статье будут рассмотрены способы определения страны, города и другой гео-ино о пользователе по его IP.</p>]]>
    
    </summary>
    
      <category term="PHP" scheme="http://atoumus.github.io/categories/PHP/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Как проверить сайт под IP другой страны через прокси сервер]]></title>
    <link href="http://atoumus.github.io/test-site-by-other-country-ip.html"/>
    <id>http://atoumus.github.io/test-site-by-other-country-ip.html</id>
    <published>2016-02-07T05:14:02.000Z</published>
    <updated>2016-03-16T12:18:26.969Z</updated>
    <content type="html"><![CDATA[<p>Иногда возникает необходимость зайти на свой сайт под IP другой страны. Например что бы проверить ту или иную функциональность, которая работает по разному в зависимости с IP какой страны зашел пользователь. В этой статье будут рассмотрены способы как это можно удобно сделать.</p>
<a id="more"></a>
<p>Это можно сделать тремя способами:</p>
<ul>
<li>через Tor браузер;</li>
<li>через список бесплатных прокси серверов;</li>
<li>через платный прокси сервер;</li>
</ul>
<h2 id="u0427_u0435_u0440_u0435_u0437_Tor__u0431_u0440_u0430_u0443_u0437_u0435_u0440"><a href="#u0427_u0435_u0440_u0435_u0437_Tor__u0431_u0440_u0430_u0443_u0437_u0435_u0440" class="headerlink" title="Через Tor браузер"></a>Через Tor браузер</h2><p>Мало кто знает об этом способе, и я до недавнего времени не знал.</p>
<p>Вообще Tor браузер предназначен для ананимности в сети. Ваш трафик проходит через несколько промежуточных прокси серверов (Tor сеть). И таким образом в конечной точке трудно определить ваш настоящий IP. При этом Tor браузер сам решает через какие прокси сервера вас направить.</p>
<p>Но недавно я заинтересовался вопросом, можно ли Tor браузер заставить использовать только прокси сервера определенной страны. И как оказалось, можно.</p>
<p>Что нужно сделать что бы Tor использовал IP нужной вам страны? Во первых конечно нужно установить Tor браузер, это сделать не сложно: <a href="https://www.torproject.org/projects/torbrowser.html.en" target="_blank" rel="external">ссылка на скачивание Tor браузера</a>.</p>
<p>После установки, открываем специальный конфигурационный файл, у меня он лежит по такому пути (у вас может быть другой путь):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\at0m1x\Desktop\Tor Browser\Browser\TorBrowser\Data\Tor\torrc</span><br></pre></td></tr></table></figure>
<p>Открываем этот файл и ищем в нем слово: ExitNodes.</p>
<p>Если не нашлось, что скорее всего, то добавляем в конец этого файла:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ExitNodes &#123;us&#125;</span><br></pre></td></tr></table></figure>
<p>us - это двузначный код страны (<a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2" target="_blank" rel="external">ISO 3166-1 alpha-2</a>), его нужно обязательно указывать маленькими буквами. В данном случае us это US т.е. United States.</p>
<p>После того как вы таким образом указали код нужной вам страны, сохраняем изменения в этом файле и закрываем его. Запускаем Tor браузер, и проверяем через какую страну идет проксирование трафика:</p>

<p><img src="/070216-tor-ip.png" alt="Как проверить сайт под IP другой страны через бесплатный прокси"></p>

<p>Преимущества такого способа:</p>
<ul>
<li>быстрота работы Tor браузера;</li>
<li>безопасность;</li>
</ul>
<p>Но есть и один недостаток: не для всех стран есть Tor сети. Например если вы попробуете выставить код такой страны как Нигерия {ng}, то он у вас не заработает, потому что в Нигерии скорее всего нет Tor серверов. Поэтому если вам нужны какие то особые страны, нужно использовать бесплатные прокси сервера, об этом ниже.</p>
<h2 id="u0418_u0441_u043F_u043E_u043B_u044C_u0437_u0443_u0435_u043C__u0431_u0435_u0441_u043F_u043B_u0430_u0442_u043D_u044B_u0435__u043F_u0440_u043E_u043A_u0438__u0441_u0435_u0440_u0432_u0435_u0440_u0430"><a href="#u0418_u0441_u043F_u043E_u043B_u044C_u0437_u0443_u0435_u043C__u0431_u0435_u0441_u043F_u043B_u0430_u0442_u043D_u044B_u0435__u043F_u0440_u043E_u043A_u0438__u0441_u0435_u0440_u0432_u0435_u0440_u0430" class="headerlink" title="Используем бесплатные проки сервера"></a>Используем бесплатные проки сервера</h2><p>Для этого мы будем использоват обычный браузер Google Chrome, которым сейчас пользуются многие.</p>
<p>Для начала нужно установить специальное дополнение в браузере, с помощью которого можно удобно переключатся между прокси серверами: <a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif" target="_blank" rel="external">Proxy SwitchyOmega</a>.</p>
<p>После установки, откроется страница настроек этого дополнения, она будет выглядень примерно так:</p>

<p><img src="/070216-proxy-omega.png" alt="Как проверить сайт под IP другой страны через бесплатный прокси"></p>

<p>Теперь вам нужно найти список бесплатных прокси серверов. Я например использую <a href="http://www.gatherproxy.com/proxylistbycountry" target="_blank" rel="external">Gather Proxy</a>. Этот сервис удобен тем, что он для каждого прокси сервера отображает его скорость, аптайм и анонимность. Заходим на этот сервис, выбираем из огромного списка нужную нам страну, например пусть это будет <a href="http://www.gatherproxy.com/proxylist/country/?c=Nigeria" target="_blank" rel="external">Нигерия</a>. Нам отобразился список доступных прокси серверов для этой страны:</p>

<p><img src="/070216-ng-proxy-list.png" alt="Как проверить сайт под IP другой страны через бесплатный прокси"></p>

<p>Выбираем из этого списка один из самых быстрых, т.е. у которого RESPONSE TIMES самый маленький, он в списке отображается зеленым цветом (у меня на скрине обведен красным).</p>
<p>Далее переходим в настройки плагина SwitchyOmega в браузере. При установке плагина он по умолчанию создает профиль под названием “Example Profile”, переименуем его для удобства:</p>

<p><img src="/070216-ng-rename.png" alt="Как проверить сайт под IP другой страны через бесплатный прокси"></p>

<p>После этого, вписываем в поля Server и Port настройки выбранного нами прокси сервера Нигерии:</p>

<p><img src="/070216-ng-ip-save.png" alt="Как проверить сайт под IP другой страны через бесплатный прокси"></p>

<p>Далее открываем новую вкладку и включаем прокси:</p>

<p><img src="/070216-ng-on.png" alt="Как проверить сайт под IP другой страны через бесплатный прокси"></p>

<p>После того как включили прокси, заходим на <a href="https://2ip.ru" target="_blank" rel="external">2ip.ru</a> и видим что мы из Нигерии:</p>

<p><img src="/070216-new-ng-ip.png" alt="Как проверить сайт под IP другой страны через бесплатный прокси"></p>

<p>Для отключения прокси выбираем в меню плагина SwitchyOmega пункт Direct:</p>

<p><img src="/070216-direct.png" alt="Как проверить сайт под IP другой страны через бесплатный прокси"></p>

<p>Недостатки использования бесплатных прокси:</p>
<ul>
<li>медленность</li>
<li>не безопасность (об этом ниже)</li>
</ul>
<h2 id="u041E__u0431_u0435_u0437_u043E_u043F_u0430_u0441_u043D_u043E_u0441_u0442_u0438__u0438_u0441_u043F_u043E_u043B_u044C_u0437_u043E_u0432_u0430_u043D_u0438_u044F__u0431_u0435_u0441_u043F_u043B_u0430_u0442_u043D_u044B_u0445__u043F_u0440_u043E_u043A_u0441_u0438__u0441_u0435_u0440_u0432_u0435_u0440_u043E_u0432"><a href="#u041E__u0431_u0435_u0437_u043E_u043F_u0430_u0441_u043D_u043E_u0441_u0442_u0438__u0438_u0441_u043F_u043E_u043B_u044C_u0437_u043E_u0432_u0430_u043D_u0438_u044F__u0431_u0435_u0441_u043F_u043B_u0430_u0442_u043D_u044B_u0445__u043F_u0440_u043E_u043A_u0441_u0438__u0441_u0435_u0440_u0432_u0435_u0440_u043E_u0432" class="headerlink" title="О безопасности использования бесплатных прокси серверов"></a>О безопасности использования бесплатных прокси серверов</h2><p>Дело в том что мы не знаем что за сервера нам предоставляют списки бесплатныых прокси. Вполне возможно что на этих серверах логируются наши запросы и потом анализируются.</p>
<p>А из этого следует вывод, что при использовании бесплатных прокси, нелья передавать свои логины и пароли. Т.е. если прокси включен, нельзя заходить в свои акаунты в соц-сетях, почтах, платежных системах (!) и пр. сайтах где у вас есть акаунты.</p>
<p>А в случае с Google Chrome, вообще следует пользоватся прокси только через анонимный режим. Т.к. в обычном режиме у вас наверняка установлены различные плагины такие как проверка вашей почты и пр. Например тот же плагин для провери почты переодически проверяет наличие новых писем и для этого отправляет запрос с идентификатором текущей сессии (это конечно не логин/пароль но тоже опасно).</p>
<p>Поэтому лучше делать так:</p>
<ol>
<li>Разрешаем использовать плагин SwitchyOmega в анонимном режиме:</li>
</ol>

<p><img src="/070216-proxy-an.png" alt="Как проверить сайт под IP другой страны через бесплатный прокси"></p>


<p><img src="/070216-checkbox.png" alt="Как проверить сайт под IP другой страны через бесплатный прокси"></p>

<ol>
<li><p>Переходим в режим “инкогнито”, для этого нажимаем Shift + Ctrl + N</p>
</li>
<li><p>Включаем прокси - т.е. выбираем в меню плагина пункт Nigeria.</p>
</li>
<li><p>Для проверки заходим на <a href="http://2ip.ru/" target="_blank" rel="external">2ip.ru</a> который должен сказать что ваша текущая страна Нигерия.</p>
</li>
</ol>
<p>Таким образом, вы будете обезопасены от угона ваших паролей и сессий третьими лицами, которые предоставляют бесплатные прокси сервера (вспоминаем про бесплатный сыр)).</p>
<h2 id="u0418_u0441_u043F_u043E_u043B_u044C_u0437_u0443_u0435_u043C__u0431_u0435_u0441_u043F_u043B_u0430_u0442_u043D_u044B_u0439__u0440_u0435_u0436_u0438_u043C_ZenMate_VPN"><a href="#u0418_u0441_u043F_u043E_u043B_u044C_u0437_u0443_u0435_u043C__u0431_u0435_u0441_u043F_u043B_u0430_u0442_u043D_u044B_u0439__u0440_u0435_u0436_u0438_u043C_ZenMate_VPN" class="headerlink" title="Используем бесплатный режим ZenMate VPN"></a>Используем бесплатный режим ZenMate VPN</h2><p><a href="https://zenmate.com/" target="_blank" rel="external">ZenMate</a> - сервис предоставляющий платные услуги VPN серверов. В основном VPN используется для анонимности в сети. Но с таким же успехом с его помощью можно переключатся между разными IP стран.</p>
<p>Для начала нужно установить плагин для бразера Google Chrome: <a href="https://chrome.google.com/webstore/detail/zenmate-security-privacy/fdcgdnkidjaadafnichfpabhfomcebme" target="_blank" rel="external">ссылка на плагин ZenMate</a>.</p>
<p>После установки, плагин попросит вас зарегистрироватся в сервисе ZenMate, регистрируемся.</p>
<p>После регистрации вам дается 7-ми дневный премиум период с доступом ко всему списку стран доступному в этом сервисе. Вы можете переключатся между странами используя меню плагина ZenMate в браузере.</p>
<p>После окончания 7-ми дневного бесплатного премиум периода, вы можете продолжать пользоватся плагином, но список стран для вас будет ограничен. Или же мы можете заплатить и продолжать пользоваться всем списком стран.</p>
<h2 id="u0417_u0430_u043A_u043B_u044E_u0447_u0435_u043D_u0438_u0435"><a href="#u0417_u0430_u043A_u043B_u044E_u0447_u0435_u043D_u0438_u0435" class="headerlink" title="Заключение"></a>Заключение</h2><p>В заключение хочу сказать, что для меня самый удобный, быстрый и безопасный способ использования прокси это Tor браузер.</p>
<p>Если же по какой то причине Tor использовать не получается, то можно воспользоватся списком бесплатных прокси серверов, но только в анонимном режиме браузера Google Chrome.</p>
<p>Так же вы можете почитать о том, <a href="/php-detect-country-by-ip.html" title="как в PHP определить страну пользователя по IP">как в PHP определить страну пользователя по IP</a>.</p>]]></content>
    <summary type="html">
    <![CDATA[<p>Иногда возникает необходимость зайти на свой сайт под IP другой страны. Например что бы проверить ту или иную функциональность, которая работает по разному в зависимости с IP какой страны зашел пользователь. В этой статье будут рассмотрены способы как это можно удобно сделать.</p>]]>
    
    </summary>
    
      <category term="Tools" scheme="http://atoumus.github.io/categories/Tools/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Что учить PHP разработчику в 2016 году]]></title>
    <link href="http://atoumus.github.io/2016-php-trends.html"/>
    <id>http://atoumus.github.io/2016-php-trends.html</id>
    <published>2016-01-31T11:22:02.000Z</published>
    <updated>2016-06-04T03:20:00.000Z</updated>
    <content type="html"><![CDATA[<p>Что должен знать современный PHP разработчик?</p>
<p>Минимум технологий, это: HTML, CSS, PHP, MySQL, JavaScript и jQuery.</p>
<p>Но это самые основы, которых сейчас уже недостаточно для того что бы быть конкурентно способным. Web разработка, и конкретно PHP, развиваются большими шагами, и для того что бы оставатся на должном уровне, нужно постоянно изучать что то новое и совершенствовать свои знания и навыки.</p>
<p>Но что именно сейчас наиболее популярно и востребованно среди работодателей?</p>
<p>В этой статье собрана статистика с сайта <a href="http://hh.ru" target="_blank" rel="external">hh.ru</a> за 2016 год, и составлены графики, что сейчас из веб-технологий наиболее востребованно. Благодаря им значительно легче определится, на что сейчас нужно делать основной упор в самообразовании.</p>
<a id="more"></a>

<p><img src="/2016-year-php-frameworks.png" alt="Что учить PHP разработчику в 2016 году"></p>


<p><img src="/2016-year-php-cms.png" alt="Что учить PHP разработчику в 2016 году"></p>


<p><img src="/2016-year-databases.png" alt="Что учить PHP разработчику в 2016 году"></p>


<p><img src="/2016-year-frontend.png" alt="Что учить PHP разработчику в 2016 году"></p>


<p><img src="/2016-year-ci.png" alt="Что учить PHP разработчику в 2016 году"></p>


<p><img src="/2016-year-dolzhnost.png" alt="Что учить PHP разработчику в 2016 году"></p>


<p><img src="/2016-year-issue-trackers.png" alt="Что учить PHP разработчику в 2016 году"></p>


<p><img src="/2016-year-mietodologhii-razrabotki.png" alt="Что учить PHP разработчику в 2016 году"></p>


<p><img src="/2016-year-ochieriedi.png" alt="Что учить PHP разработчику в 2016 году"></p>


<p><img src="/2016-year-poiskovyie-dvizhki.png" alt="Что учить PHP разработчику в 2016 году"></p>


<p><img src="/2016-year-sierviernyie-tiekhnologhii.png" alt="Что учить PHP разработчику в 2016 году"></p>


<p><img src="/2016-year-tiestirovaniie.png" alt="Что учить PHP разработчику в 2016 году"></p>


<p><img src="/2016-year-vcs.png" alt="Что учить PHP разработчику в 2016 году"></p>]]></content>
    <summary type="html">
    <![CDATA[<p>Что должен знать современный PHP разработчик?</p>
<p>Минимум технологий, это: HTML, CSS, PHP, MySQL, JavaScript и jQuery.</p>
<p>Но это самые основы, которых сейчас уже недостаточно для того что бы быть конкурентно способным. Web разработка, и конкретно PHP, развиваются большими шагами, и для того что бы оставатся на должном уровне, нужно постоянно изучать что то новое и совершенствовать свои знания и навыки.</p>
<p>Но что именно сейчас наиболее популярно и востребованно среди работодателей?</p>
<p>В этой статье собрана статистика с сайта <a href="http://hh.ru">hh.ru</a> за 2016 год, и составлены графики, что сейчас из веб-технологий наиболее востребованно. Благодаря им значительно легче определится, на что сейчас нужно делать основной упор в самообразовании.</p>]]>
    
    </summary>
    
      <category term="PHP" scheme="http://atoumus.github.io/categories/PHP/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Init post]]></title>
    <link href="http://atoumus.github.io/init-post.html"/>
    <id>http://atoumus.github.io/init-post.html</id>
    <published>2016-01-07T06:31:41.000Z</published>
    <updated>2016-03-16T12:18:55.429Z</updated>
    <content type="html"><![CDATA[<p>Hello from <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a> :)</p>]]></content>
    <summary type="html">
    <![CDATA[<p>Hello from <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a> :)</p>]]>
    </summary>
    
      <category term="Etc" scheme="http://atoumus.github.io/categories/Etc/"/>
    
  </entry>
  
</feed>
