<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <title>Drupal 7 - Создание списка рубрик | Atoumus Blog</title> <link rel="alternate" href="http://atoumus.github.io/drupal7-make-rubrics-list.html" hreflang="ru" /> <link rel="alternate" href="http://atoumus.github.io/en/" hreflang="en" /> <link rel="alternate" type="application/atom+xml" title="Atoumus Blog" href="/atom.xml" /> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" type="text/css" href="/css/libs/flaticon/flaticon.css"> <link rel="stylesheet" type="text/css" href="/css/libs/prism.css"> <link rel="stylesheet" type="text/css" href="/css/libs/prism-fix.css"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css" /> <link rel="stylesheet" type="text/css" href="/css/common.css"> <meta name="yandex-verification" content="b1ff017a4540ff81" /> </head> <body> <a href="#top" class="elevator"><span class="flaticon-upwards-arrow"></span></a> <a name="top"></a> <div class="main"> <div class="header"> <a href="/" class="logo" title="Atoumus Blog" ><img src="/images/logo.png">Atoumus Blog</a> <form class="search" action="//google.com/search" target="_blank" method="get" accept-charset="UTF-8"> <input type="search" name="q" class="search-input"> <button type="submit">Поиск</button> <input type="hidden" name="sitesearch" value="http://atoumus.github.io"> </form> <div class="social"> <a href="#" class="search-toggle flaticon-magnifier" title="Поиск"></a> <a href="/atom.xml" target="_blank" class="flaticon-rss-feed-button" title="Atom лента"></a> <a href="https://twitter.com/atoumus/" target="_blank" class="flaticon-twitter-logo-silhouette" title="Twitter"></a> </div> </div> <div class="clear-both"></div> <div class="menu"> <div class="tags"> <a href='/'>Главная</a><a href='/tag/PHP/'>PHP</a><a href='/tag/Yii/'>Yii</a><a href='/tag/Books/'>Книги</a><a href='/tag/Zend Framework/'>Zend Framework</a><a href='/tag/Drupal/' class='selected'>Drupal</a><a href='/tag/XDebug/'>XDebug</a><a href='/tag/C Sharp/'>C#</a><a href='/tag/Sublime Text/'>Sublime Text</a><a href='/tag/Others/'>Прочее</a> </div> <div class="lang-switcher"> <span>ru</span><a href='/en/'>en</a> </div> </div> <div class="clear-both"></div> <div class="contents"> <div class="article"> <h1>Drupal 7 - Создание списка рубрик</h1> <div class="meta"> <div> <span class="flaticon-calendar-with-spring-binder-and-date-blocks"></span> 2011-08-23 </div> <div> <span class="flaticon-commerce"></span> <a href='/tag/Drupal/'>Drupal</a> </div> <div class="comments-number"> <span class="flaticon-comment-white-oval-bubble"></span> <a href="#comments" data-disqus-url="http://atoumus.github.io/drupal7-make-rubrics-list.html"></a> </div> </div> <div class="clear-both"></div> <div class="text"><p> <img src="/images/ru/articles/2011-08-23-drupal7-make-rubrics-list/1.png" alt="Drupal7 - Создание списка рубрик" class="no-borders" align="left" style="margin: 0 20px 15px 0;" /> Столкнулся недавно с задачей – как в Drupal 7 создать категории или другими словами рубрики статей и как их отобразить в левом блоке сайта. Долго искал решение, в последствии все таки разобрался и решил поделится своим опытом. </p> <p>Для создания категорий статей нам необходимо будет пройти три этапа:</p> <ol> <li>Создание собственно самих категорий, списка тех рубрик, которые будут на сайте.</li> <li>Привязка этих категорий к типу материала «Статья».</li> <li>И размещение списка наших категорий в левой (или какой либо другой) части сайта.</li> </ol> <h2>Шаг №1 - Создаем список категорий</h2> <p>Для этой задачи в Drupal есть специальный модуль под названием «Таксономия». В верхнем меню выберем пункт «Структура» и на открывшейся странице переходим по ссылке «Таксономия».</p> <p>Перед нами откроется список так называемых словарей, в моем только что установленном Drupal в этом списке только один словарь под названием «Теги», но нас он не интересует. Нам необходимо создать новый «Словарь», для этого кликаем на «Добавить словарь».</p> <p>Перед нами откроется форма добавления нового словаря, введем его название «Категории» и нажмем кнопку «Сохранить».</p> <p style="text-align: center;"><img src="/images/ru/articles/2011-08-23-drupal7-make-rubrics-list/2.jpg" alt="Drupal7 - Создание списка рубрик" /></p> <p>Далее нам будет предложено ввести системное имя словаря, введем «_cats» (сокращение от англ. Categories - категории) и снова нажмем кнопку «Сохранить».</p> <p style="text-align: center;"><img src="/images/ru/articles/2011-08-23-drupal7-make-rubrics-list/3.jpg" alt="Drupal7 - Создание списка рубрик" /></p> <p>Готово, словарь «Категории» создан. Теперь его нужно наполнить списком категорий, или по терминологии Drupal нужно «Добавить термины» в данный словарь, для этого, напротив нашего словаря кликаем «добавить термины».</p> <p style="text-align: center;"><img src="/images/ru/articles/2011-08-23-drupal7-make-rubrics-list/4.jpg" alt="Drupal7 - Создание списка рубрик" /></p> <p>Вводим название первой категории, введем к примеру «PHP» и нажимаем кнопку «Сохранить».</p> <p style="text-align: center;"><img src="/images/ru/articles/2011-08-23-drupal7-make-rubrics-list/5.jpg" alt="Drupal7 - Создание списка рубрик" /></p> <p>Далее нам будет предложено ввести название следующей категории, введем «MySQL» и снова нажмем кнопку «Сохранить», после чего снова появится форма для добавления следующей категории. Таким образом, можно добавить нужное количество категорий.</p> <p>После того, как вы добавили список категорий, можно перейти к следующему шагу, а именно к привязке этих рубрик к статьям.</p> <h2>Шаг №2 - Привязываем список рубрик к статьям</h2> <p>На данном шаге нам необходимо указать Drupal’у на то, что при создании статей нам необходимо указывать категории к которым они относятся. Для этого нам нужно «привязать» созданный нами словарь «Категории» к типу материала «Статья». Кликаем в верхнем меню на пункт «Структура» и на открывшейся странице переходим по ссылке «Типы материалов».</p> <p>Откроется страница с типами материалов, у меня их только два, у вас может быть больше, но нас среди этого списка интересует только тип «Статья», напротив него кликнем на ссылку «управление полями».</p> <p>В открывшейся форме добавим новое поле, для этого проделаем следующее:</p> <ul> <li>введем название «Категория»;</li> <li>в следующем поле введем машинное имя поля: «cat»;</li> <li>далее выберем тип поля «Ссылка на термин».</li> </ul> <p>После этого нажмем на кнопку «Сохранить».</p> <p style="text-align: center;"><img src="/images/ru/articles/2011-08-23-drupal7-make-rubrics-list/6.jpg" alt="Drupal7 - Создание списка рубрик" /></p> <p>Далее нам будет предложено выбрать, какой именно словарь мы будем использовать в качестве списка категорий, выберем словарь «Категории» и нажмем на кнопку «Сохранить».</p> <p style="text-align: center;"><img src="/images/ru/articles/2011-08-23-drupal7-make-rubrics-list/7.jpg" alt="Drupal7 - Создание списка рубрик" /></p> <p>Теперь перед нами появятся настройки только что созданного поля «Категория», здесь нам нужно поставить галочку «Обязательное поле» и нажать на кнопку «Сохранить настройки».</p> <p style="text-align: center;"><img src="/images/ru/articles/2011-08-23-drupal7-make-rubrics-list/8.jpg" alt="Drupal7 - Создание списка рубрик" /></p> <p>Готово, теперь при создании статьи, Drupal нам предложит выбрать категорию, к которой эта статья будет относится, давайте проверим это. Кликните «Добавление материала» в верхнем меню и на открывшейся странице перейдите по ссылке «Статья».</p> <p>Перед вами откроется форма добавления статьи, введите «Title» (заголовок), «Body» (текст) и выберите категорию, например «PHP». После этого нажмите на кнопку «Сохранить» в конце страницы, статья должна успешно добавится и отобразится в том виде, в котором ее увидят посетители вашего сайта. Обратите внимание на то, что при добавлении статьи мы выбирали категорию «PHP», если бы мы этого не сделали, система не дала бы сохранить статью.</p> <p>Теперь нам осталось пройти еще один, последний шаг – добавление списка категорий в левую (или какую либо другую) часть сайта.</p> <h2>Шаг №3 - Добавляем список категорий в левую часть сайта</h2> <p>Для этого нам понадобятся два модуля:</p> <ul> <li><a target="_blank" href="http://drupal.org/project/views">Views</a></li> <li><a target="_blank" href="https://www.drupal.org/project/ctools">CTools</a></li> </ul> <p>Скачайте и установите их. Далее идем на страницу модулей (кликаем вверху на «Модули») и включаем только что установленные модули.</p> <p style="text-align: center;"><img src="/images/ru/articles/2011-08-23-drupal7-make-rubrics-list/9.jpg" alt="Drupal7 - Создание списка рубрик" /></p> <p>После того как мы включили модули, можно смело создавать блок, который будет расположен в левой (или в любой другой) части вашего сайта. Для этого щелкаем в верхнем меню на «Структура», на открывшейся странице переходим по ссылке «Views», перед нами откроется интерфейс модуля Views, кликаем на «Add new view». Заполняем открывшуюся форму следующим образом:</p> <ul> <li>в поле «View name» - вводим «Категории»</li> <li>в выпадающем списке «Показать» выбираем «Термины таксономии»</li> <li>в выпадающем списке «of type» выбираем «Категории»</li> <li>снимаем галочку с «Create a page» и ставим ее на «Create a block»</li> <li>и последнее, в поле «Items per page» выставляем максимальное кол-во категорий, которое будет у вас на сайте, к примеру можно ввести 20.</li> </ul> <p>После того как форма заполнена нажимаем кнопку «Save &amp; exit».</p> <p style="text-align: center;"><img src="/images/ru/articles/2011-08-23-drupal7-make-rubrics-list/10.jpg" alt="Drupal7 - Создание списка рубрик" /></p> <p>При этом вам будет предложено ввести системное имя блока, введем «_cats» и снова нажмем на кнопку «Save &amp; exit».</p> <p style="text-align: center;"><img src="/images/ru/articles/2011-08-23-drupal7-make-rubrics-list/11.jpg" alt="Drupal7 - Создание списка рубрик" /></p> <p>Готово, блок создан, осталось самое малое – разместить его в нужной части сайта. Для этого кликаем вверху на «Структура» и на открывшейся странице выбираем «Блоки». Далее выбираем из списка только что созданный блок, он обязательно должен быть, например у меня он называется «View: Категории: Block», напротив него в выпадающем списке выбираем его расположение, например «Первая боковая панель», после чего нажимаем на кнопку «Сохранить блоки» в конце страницы.</p> <p style="text-align: center;"><img src="/images/ru/articles/2011-08-23-drupal7-make-rubrics-list/12.jpg" alt="Drupal7 - Создание списка рубрик" /></p> <p>Далее переходим на главную страницу вашего сайта и видим только что созданный блок категорий:</p> <p style="text-align: center;"><img src="/images/ru/articles/2011-08-23-drupal7-make-rubrics-list/1.png" alt="Drupal7 - Создание списка рубрик" /></p> <p>Если вам понадобится добавить новые категории, для этого необходимо будет перейти на страницу «Структура» -&gt; «Таксономия» и «добавить термины» для словаря «Категории».</p></div> <div class="related"> <h2>Читайте также</h2> <a href="/drupal-7-setting-up-friendly-url.html" target="_blank" >Drupal 7 - Настройка ЧПУ</a> </div> <div class="share">Поделится: <script type="text/javascript">(function () { if (window.pluso) if (typeof window.pluso.start == "function") return; if (window.ifpluso == undefined) { window.ifpluso = 1; var d = document, s = d.createElement('script'), g = 'getElementsByTagName'; s.type = 'text/javascript'; s.charset = 'UTF-8'; s.async = true; s.src = ('https:' == window.location.protocol ? 'https' : 'http') + '://share.pluso.ru/pluso-like.js'; var h = d[g]('body')[0]; h.appendChild(s); } })();</script> <div class="pluso" data-background="transparent" data-options="small,round,line,horizontal,counter,theme=04" data-services="vkontakte,odnoklassniki,facebook,twitter,google,moimir,email,print"></div></div>   <div class="comments"> <a name="comments"></a> <div id="disqus_thread"></div> <script> var disqus_config = function () { this.page.url = "http://atoumus.github.io/drupal7-make-rubrics-list.html"; this.language = "ru"; }; (function() { var d = document, s = d.createElement('script'); s.src = 'https://atoumus.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </div> </div> </div> <div class="footer"> <div class="left"> <div class="social"> <a href="#" class="icon search-toggle flaticon-magnifier" title="Поиск"></a> <a href="/atom.xml" target="_blank" class="icon flaticon-rss-feed-button" title="Atom лента"></a> <a href="https://twitter.com/atoumus/" target="_blank" class="icon flaticon-twitter-logo-silhouette" title="Twitter"></a> </div> <div class="author-email"> <a data-email-array='{"8":"g","7":"@","14":"c","10":"a","12":"l","9":"m","16":"m","6":"s","13":".","1":"t","5":"u","4":"m","11":"i","15":"o","3":"u","2":"o","0":"a"}' href="#"></a> </div> </div> <div class="right"> <div>  <script type="text/javascript"> document.write("<a href='//www.liveinternet.ru/click' "+ "target=_blank><img src='//counter.yadro.ru/hit?t25.5;r"+ escape(document.referrer)+((typeof(screen)=="undefined")?"": ";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth? screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+ ";"+Math.random()+ "' alt='' title='LiveInternet: показано число посетителей за"+ " сегодня' "+ "border='0' width='88' height='15'><\/a>") </script>  </div> <div> Atoumus Blog &copy; 2011 - 2019 </div> </div> </div> <div class="clear-both"></div> </div> <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script> <script type="text/javascript" src="/js/libs/prism.js"></script> <script type="text/javascript" src="/js/app.js"></script> </body> </html>