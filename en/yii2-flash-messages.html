<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <title>Yii 2 - Displaying flash (users) messages on the site | Atoumus Blog</title> <link rel="alternate" href="http://atoumus.github.io/yii2-flash-messages.html" hreflang="ru" /> <link rel="alternate" href="http://atoumus.github.io/en/yii2-flash-messages.html" hreflang="en" /> <link rel="alternate" type="application/atom+xml" title="Atoumus Blog" href="/en/atom.xml" /> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" type="text/css" href="/css/libs/flaticon/flaticon.css"> <link rel="stylesheet" type="text/css" href="/css/libs/prism.css"> <link rel="stylesheet" type="text/css" href="/css/libs/prism-fix.css"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css" /> <link rel="stylesheet" type="text/css" href="/css/common.css"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-4863431788441395", enable_page_level_ads: true }); </script> <meta name="yandex-verification" content="b1ff017a4540ff81" /> </head> <body> <a href="#top" class="elevator"><span class="flaticon-upwards-arrow"></span></a> <a name="top"></a> <div class="main"> <div class="ads"></div> <div class="clear-both"></div> <div class="header"> <a href="/en/" class="logo" title="Atoumus Blog" ><img src="/images/logo.png">Atoumus Blog</a> <form class="search" action="//google.com/search" target="_blank" method="get" accept-charset="UTF-8"> <input type="search" name="q" class="search-input"> <button type="submit">Search</button> <input type="hidden" name="sitesearch" value="http://atoumus.github.io"> </form> <div class="social"> <a href="#" class="search-toggle flaticon-magnifier" title="Search"></a> <a href="/en/atom.xml" target="_blank" class="flaticon-rss-feed-button" title="Atom feed"></a> <a href="https://twitter.com/atoumus/" target="_blank" class="flaticon-twitter-logo-silhouette" title="Twitter"></a> <a href="https://plus.google.com/u/0/116624784918762784912" target="_blank" class="flaticon-google-plus-logo-button" title="G+"></a> </div> </div> <div class="clear-both"></div> <div class="menu"> <div class="tags"> <a href='/en/'>Home</a><a href='/en/tag/Yii/' class='selected'>Yii</a><a href='/en/tag/VirtualBox/'>VirtualBox</a><a href='/en/tag/Vagrant/'>Vagrant</a> </div> <div class="lang-switcher"> <a href='/yii2-flash-messages.html'>ru</a><span>en</span> </div> </div> <div class="clear-both"></div> <div class="contents"> <div class="article"> <h1>Yii 2 - Displaying flash (users) messages on the site</h1> <div class="meta"> <div> <span class="flaticon-calendar-with-spring-binder-and-date-blocks"></span> 2016-08-10 </div> <div> <span class="flaticon-commerce"></span> <a href='/en/tag/Yii/'>Yii</a> </div> <div class="comments-number"> <span class="flaticon-comment-white-oval-bubble"></span> <a href="#comments" data-disqus-url="http://atoumus.github.io/en/yii2-flash-messages.html"></a> </div> </div> <div class="clear-both"></div> <div class="text"><p> <img src="/images/en/articles/2016-08-10-yii2-flash-messages/result.png" alt="Yii 2 - Displaying flash (users) messages on the site" align="left" style="margin: 0 20px 15px 0;" class="no-borders" /> How to display simple user messages on a site using the Yii 2 framework. </p> <h2>A bit of theory</h2> <p>Flash messages in this case are notifications displayed to the user at any events.</p> <p>Yii 2 already has a built-in mechanism for working with flash messages. It works on this principle:</p> <ol> <li>Use the <code>\Yii::$app-&gt;session-&gt;addFlash()</code> method to add the message to the session.</li> <li>The message in the session is stored until it is from there extracted by the <code>Yii::$app-&gt;session-&gt;getAllFlashes()</code> method.</li> <li>Once the message is extracted, it is deleted from the session.</li> </ol> <h2>Implementation of flash messages</h2> <p>Next, the basic application template provided by Yii 2 will be used as the code base. How to install the basic application template is described in <a target="_blank" href="/en/yii2-basic-advanced.html">this article</a>.</p> <p>Now we implement flash messages in practice. In this example, the simplest user notifications are considered, without any animations, etc. These notifications will be displayed at the top of the site before the rest of the content is displayed.</p> <ol> <li> <p>First, create an auxiliary view script, in which we place the code outputting the flash message. To do this, create a file <code>\views\layouts\main\flashes.php</code> with the following content:</p> <pre class="line-numbers"><code class="language-php">&lt;?php foreach(Yii::$app-&gt;session-&gt;getAllFlashes() as $type =&gt; $messages): ?&gt;
&lt;?php foreach($messages as $message): ?&gt;
    &lt;div class="alert alert-&lt;?= $type ?&gt;" role="alert"&gt;&lt;?= $message ?&gt;&lt;/div&gt;
&lt;?php endforeach ?&gt;
&lt;?php endforeach ?&gt;</code></pre> </li> <li>Next, you need to render the newly created view script <code>flashes.php</code> in the layout <code>\views\layouts\main.php</code>:</li> </ol> <p style="text-align: center;"><img src="/images/en/articles/2016-08-10-yii2-flash-messages/1.png" alt="Yii 2 - Displaying flash (users) messages on the site" /></p> <ol start="3"> <li>Now you can check how the flash messages work, for this, in the controller <code>\controllers\SiteController.php</code> we add the following lines of code:</li> </ol> <p style="text-align: center;"><img src="/images/en/articles/2016-08-10-yii2-flash-messages/2.png" alt="Yii 2 - Displaying flash (users) messages on the site" /></p> <ol start="4"> <li>Refresh the page in the web-browser and see the result:</li> </ol> <p style="text-align: center;"><img src="/images/en/articles/2016-08-10-yii2-flash-messages/result.png" alt="Yii 2 - Displaying flash (users) messages on the site" /></p> <h2>Conclusion</h2> <p>In general, this is not a complete implementation of flash messages. Because now they are displayed each time the main page is refreshed. In real applications flash messages are displayed only after some actions, and then disappear. For example, we can display a flash message after user registration, that he needs to confirm his e-mail address, this message is sufficient to display only once after which it should disappear.</p></div> <div class="related"> <h2>Read also</h2> <a href="/en/yii2-swiftmailer.html" target="_blank" >Yii 2 - Sending emails using Swiftmailer</a> <a href="/en/yii2-i18n.html" target="_blank" >Yii 2 - How to make internationalization (multilanguage)</a> <a href="/en/yii2-basic-advanced.html" target="_blank" >Yii 2 - Installation basic and advanced application templates via Composer</a> </div> <div class="share">Share: <script type="text/javascript">(function () { if (window.pluso) if (typeof window.pluso.start == "function") return; if (window.ifpluso == undefined) { window.ifpluso = 1; var d = document, s = d.createElement('script'), g = 'getElementsByTagName'; s.type = 'text/javascript'; s.charset = 'UTF-8'; s.async = true; s.src = ('https:' == window.location.protocol ? 'https' : 'http') + '://share.pluso.ru/pluso-like.js'; var h = d[g]('body')[0]; h.appendChild(s); } })();</script> <div class="pluso" data-background="transparent" data-options="small,round,line,horizontal,counter,theme=04" data-services="vkontakte,odnoklassniki,facebook,twitter,google,moimir,email,print"></div></div> <div> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>   <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4863431788441395" data-ad-slot="9965670229" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> </div> <div class="comments"> <a name="comments"></a> <div id="disqus_thread"></div> <script> var disqus_config = function () { this.page.url = "http://atoumus.github.io/en/yii2-flash-messages.html"; this.language = "en"; }; (function() { var d = document, s = d.createElement('script'); s.src = 'https://atoumus.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </div> </div> </div> <div class="footer"> <div class="left"> <div class="social"> <a href="#" class="icon search-toggle flaticon-magnifier" title="Search"></a> <a href="/en/atom.xml" target="_blank" class="icon flaticon-rss-feed-button" title="Atom feed"></a> <a href="https://twitter.com/atoumus/" target="_blank" class="icon flaticon-twitter-logo-silhouette" title="Twitter"></a> <a href="https://plus.google.com/u/0/116624784918762784912" target="_blank" class="icon flaticon-google-plus-logo-button" title="G+"></a> </div> <div class="author-email"> <a data-email-array='{"10":"a","8":"g","3":"u","15":"o","11":"i","5":"u","1":"t","6":"s","7":"@","16":"m","13":".","9":"m","4":"m","0":"a","12":"l","2":"o","14":"c"}' href="#"></a> </div> </div> <div class="right"> <div>  <script type="text/javascript"> document.write("<a href='//www.liveinternet.ru/click' "+ "target=_blank><img src='//counter.yadro.ru/hit?t25.5;r"+ escape(document.referrer)+((typeof(screen)=="undefined")?"": ";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth? screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+ ";"+Math.random()+ "' alt='' title='LiveInternet: показано число посетителей за"+ " сегодня' "+ "border='0' width='88' height='15'><\/a>") </script>  </div> <div> Atoumus Blog &copy; 2011 - 2019 </div> </div> </div> <div class="clear-both"></div> </div> <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script> <script type="text/javascript" src="/js/libs/prism.js"></script> <script type="text/javascript" src="/js/app.js"></script> </body> </html>